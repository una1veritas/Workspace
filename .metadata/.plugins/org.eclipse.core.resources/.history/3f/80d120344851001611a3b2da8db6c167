/*
 * Permutation.h
 *
 *  Created on: 2016/07/24
 *      Author: sin
 */

#ifndef PERMUTATION_H_
#define PERMUTATION_H_


class Permutator {
	const unsigned int size;
	std::vector<unsigned int> perm;

public:
	Permutation(const unsigned int n) : size(n), perm(size) {
		init();
	}

	void init(void) {
		for(unsigned int i = 0; i < size; i++)
			perm[i] = i;
	}

	const bool next(void);

	std::string & map(std::string & str) const {
		std::string tmp(str);
		str.clear();
		for(int i = 0; i < size; i++) {
			if ( perm[i] < tmp.length() ) {
				str.push_back(tmp[perm[i]]);
			}
		}
		return str;
	}

	std::ostream & printOn(std::ostream & out) const;

	friend std::ostream & operator<<(std::ostream & out, const Permutation & p) {
		return p.printOn(out);
	}
};



#endif /* PERMUTATION_H_ */
