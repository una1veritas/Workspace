   1               		.file	"testqueues.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  12               	notify:
  13               	.LFB7:
  14               		.file 1 "../../test/testqueues.c"
   1:../../test/testqueues.c **** /*
   2:../../test/testqueues.c ****     ChibiOS/RT - Copyright (C) 2006,2007,2008,2009,2010,
   3:../../test/testqueues.c ****                  2011,2012 Giovanni Di Sirio.
   4:../../test/testqueues.c **** 
   5:../../test/testqueues.c ****     This file is part of ChibiOS/RT.
   6:../../test/testqueues.c **** 
   7:../../test/testqueues.c ****     ChibiOS/RT is free software; you can redistribute it and/or modify
   8:../../test/testqueues.c ****     it under the terms of the GNU General Public License as published by
   9:../../test/testqueues.c ****     the Free Software Foundation; either version 3 of the License, or
  10:../../test/testqueues.c ****     (at your option) any later version.
  11:../../test/testqueues.c **** 
  12:../../test/testqueues.c ****     ChibiOS/RT is distributed in the hope that it will be useful,
  13:../../test/testqueues.c ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  14:../../test/testqueues.c ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  15:../../test/testqueues.c ****     GNU General Public License for more details.
  16:../../test/testqueues.c **** 
  17:../../test/testqueues.c ****     You should have received a copy of the GNU General Public License
  18:../../test/testqueues.c ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  19:../../test/testqueues.c **** */
  20:../../test/testqueues.c **** 
  21:../../test/testqueues.c **** #include "ch.h"
  22:../../test/testqueues.c **** #include "test.h"
  23:../../test/testqueues.c **** 
  24:../../test/testqueues.c **** /**
  25:../../test/testqueues.c ****  * @page test_queues I/O Queues test
  26:../../test/testqueues.c ****  *
  27:../../test/testqueues.c ****  * File: @ref testqueues.c
  28:../../test/testqueues.c ****  *
  29:../../test/testqueues.c ****  * <h2>Description</h2>
  30:../../test/testqueues.c ****  * This module implements the test sequence for the @ref io_queues subsystem.
  31:../../test/testqueues.c ****  * The tests are performed by inserting and removing data from queues and by
  32:../../test/testqueues.c ****  * checking both the queues status and the correct sequence of the extracted
  33:../../test/testqueues.c ****  * data.
  34:../../test/testqueues.c ****  *
  35:../../test/testqueues.c ****  * <h2>Objective</h2>
  36:../../test/testqueues.c ****  * Objective of the test module is to cover 100% of the @ref io_queues code.<br>
  37:../../test/testqueues.c ****  * Note that the @ref io_queues subsystem depends on the @ref semaphores
  38:../../test/testqueues.c ****  * subsystem that has to met its testing objectives as well.
  39:../../test/testqueues.c ****  *
  40:../../test/testqueues.c ****  * <h2>Preconditions</h2>
  41:../../test/testqueues.c ****  * The module requires the following kernel options:
  42:../../test/testqueues.c ****  * - @p CH_USE_QUEUES (and dependent options)
  43:../../test/testqueues.c ****  * .
  44:../../test/testqueues.c ****  * In case some of the required options are not enabled then some or all tests
  45:../../test/testqueues.c ****  * may be skipped.
  46:../../test/testqueues.c ****  *
  47:../../test/testqueues.c ****  * <h2>Test Cases</h2>
  48:../../test/testqueues.c ****  * - @subpage test_queues_001
  49:../../test/testqueues.c ****  * - @subpage test_queues_002
  50:../../test/testqueues.c ****  * .
  51:../../test/testqueues.c ****  * @file testqueues.c
  52:../../test/testqueues.c ****  * @brief I/O Queues test source file
  53:../../test/testqueues.c ****  * @file testqueues.h
  54:../../test/testqueues.c ****  * @brief I/O Queues test header file
  55:../../test/testqueues.c ****  */
  56:../../test/testqueues.c **** 
  57:../../test/testqueues.c **** #if CH_USE_QUEUES || defined(__DOXYGEN__)
  58:../../test/testqueues.c **** 
  59:../../test/testqueues.c **** #define TEST_QUEUES_SIZE 4
  60:../../test/testqueues.c **** 
  61:../../test/testqueues.c **** static void notify(GenericQueue *qp) {
  15               		.loc 1 61 0
  16               		.cfi_startproc
  17               	.LVL0:
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  22 0000 0895      		ret
  23               		.cfi_endproc
  24               	.LFE7:
  27               	thread2:
  28               	.LFB12:
  62:../../test/testqueues.c ****   (void)qp;
  63:../../test/testqueues.c **** }
  64:../../test/testqueues.c **** 
  65:../../test/testqueues.c **** /*
  66:../../test/testqueues.c ****  * Note, the static initializers are not really required because the
  67:../../test/testqueues.c ****  * variables are explicitly initialized in each test case. It is done in order
  68:../../test/testqueues.c ****  * to test the macros.
  69:../../test/testqueues.c ****  */
  70:../../test/testqueues.c **** static INPUTQUEUE_DECL(iq, test.wa.T0, TEST_QUEUES_SIZE, notify, NULL);
  71:../../test/testqueues.c **** static OUTPUTQUEUE_DECL(oq, test.wa.T1, TEST_QUEUES_SIZE, notify, NULL);
  72:../../test/testqueues.c **** 
  73:../../test/testqueues.c **** /**
  74:../../test/testqueues.c ****  * @page test_queues_001 Input Queues functionality and APIs
  75:../../test/testqueues.c ****  *
  76:../../test/testqueues.c ****  * <h2>Description</h2>
  77:../../test/testqueues.c ****  * This test case tests sysnchronos and asynchronous operations on an
  78:../../test/testqueues.c ****  * @p InputQueue object including timeouts. The queue state must remain
  79:../../test/testqueues.c ****  * consistent through the whole test.
  80:../../test/testqueues.c ****  */
  81:../../test/testqueues.c **** 
  82:../../test/testqueues.c **** static void queues1_setup(void) {
  83:../../test/testqueues.c **** 
  84:../../test/testqueues.c ****   chIQInit(&iq, wa[0], TEST_QUEUES_SIZE, notify, NULL);
  85:../../test/testqueues.c **** }
  86:../../test/testqueues.c **** 
  87:../../test/testqueues.c **** static msg_t thread1(void *p) {
  88:../../test/testqueues.c **** 
  89:../../test/testqueues.c ****   (void)p;
  90:../../test/testqueues.c ****   chIQGetTimeout(&iq, MS2ST(200));
  91:../../test/testqueues.c ****   return 0;
  92:../../test/testqueues.c **** }
  93:../../test/testqueues.c **** 
  94:../../test/testqueues.c **** static void queues1_execute(void) {
  95:../../test/testqueues.c ****   unsigned i;
  96:../../test/testqueues.c ****   size_t n;
  97:../../test/testqueues.c **** 
  98:../../test/testqueues.c ****   /* Initial empty state */
  99:../../test/testqueues.c ****   test_assert_lock(1, chIQIsEmptyI(&iq), "not empty");
 100:../../test/testqueues.c **** 
 101:../../test/testqueues.c ****   /* Queue filling */
 102:../../test/testqueues.c ****   chSysLock();
 103:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 104:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 105:../../test/testqueues.c ****   chSysUnlock();
 106:../../test/testqueues.c ****   test_assert_lock(2, chIQIsFullI(&iq), "still has space");
 107:../../test/testqueues.c ****   test_assert_lock(3, chIQPutI(&iq, 0) == Q_FULL, "failed to report Q_FULL");
 108:../../test/testqueues.c **** 
 109:../../test/testqueues.c ****   /* Queue emptying */
 110:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 111:../../test/testqueues.c ****     test_emit_token(chIQGet(&iq));
 112:../../test/testqueues.c ****   test_assert_lock(4, chIQIsEmptyI(&iq), "still full");
 113:../../test/testqueues.c ****   test_assert_sequence(5, "ABCD");
 114:../../test/testqueues.c **** 
 115:../../test/testqueues.c ****   /* Queue filling again */
 116:../../test/testqueues.c ****   chSysLock();
 117:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 118:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 119:../../test/testqueues.c ****   chSysUnlock();
 120:../../test/testqueues.c **** 
 121:../../test/testqueues.c ****   /* Reading the whole thing */
 122:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE * 2, TIME_IMMEDIATE);
 123:../../test/testqueues.c ****   test_assert(6, n == TEST_QUEUES_SIZE, "wrong returned size");
 124:../../test/testqueues.c ****   test_assert_lock(7, chIQIsEmptyI(&iq), "still full");
 125:../../test/testqueues.c **** 
 126:../../test/testqueues.c ****   /* Queue filling again */
 127:../../test/testqueues.c ****   chSysLock();
 128:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 129:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 130:../../test/testqueues.c ****   chSysUnlock();
 131:../../test/testqueues.c **** 
 132:../../test/testqueues.c ****   /* Partial reads */
 133:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 134:../../test/testqueues.c ****   test_assert(8, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 135:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 136:../../test/testqueues.c ****   test_assert(9, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 137:../../test/testqueues.c ****   test_assert_lock(10, chIQIsEmptyI(&iq), "still full");
 138:../../test/testqueues.c **** 
 139:../../test/testqueues.c ****   /* Testing reset */
 140:../../test/testqueues.c ****   chSysLock();
 141:../../test/testqueues.c ****   chIQPutI(&iq, 0);
 142:../../test/testqueues.c ****   chIQResetI(&iq);
 143:../../test/testqueues.c ****   chSysUnlock();
 144:../../test/testqueues.c ****   test_assert_lock(11, chIQGetFullI(&iq) == 0, "still full");
 145:../../test/testqueues.c ****   threads[0] = chThdCreateStatic(wa[0], WA_SIZE, chThdGetPriority()+1, thread1, NULL);
 146:../../test/testqueues.c ****   test_assert_lock(12, chIQGetFullI(&iq) == 0, "not empty");
 147:../../test/testqueues.c ****   test_wait_threads();
 148:../../test/testqueues.c **** 
 149:../../test/testqueues.c ****   /* Timeout */
 150:../../test/testqueues.c ****   test_assert(13, chIQGetTimeout(&iq, 10) == Q_TIMEOUT, "wrong timeout return");
 151:../../test/testqueues.c **** }
 152:../../test/testqueues.c **** 
 153:../../test/testqueues.c **** ROMCONST struct testcase testqueues1 = {
 154:../../test/testqueues.c ****   "Queues, input queues",
 155:../../test/testqueues.c ****   queues1_setup,
 156:../../test/testqueues.c ****   NULL,
 157:../../test/testqueues.c ****   queues1_execute
 158:../../test/testqueues.c **** };
 159:../../test/testqueues.c **** 
 160:../../test/testqueues.c **** /**
 161:../../test/testqueues.c ****  * @page test_queues_002 Output Queues functionality and APIs
 162:../../test/testqueues.c ****  *
 163:../../test/testqueues.c ****  * <h2>Description</h2>
 164:../../test/testqueues.c ****  * This test case tests sysnchronos and asynchronous operations on an
 165:../../test/testqueues.c ****  * @p OutputQueue object including timeouts. The queue state must remain
 166:../../test/testqueues.c ****  * consistent through the whole test.
 167:../../test/testqueues.c ****  */
 168:../../test/testqueues.c **** 
 169:../../test/testqueues.c **** static void queues2_setup(void) {
 170:../../test/testqueues.c **** 
 171:../../test/testqueues.c ****   chOQInit(&oq, wa[0], TEST_QUEUES_SIZE, notify, NULL);
 172:../../test/testqueues.c **** }
 173:../../test/testqueues.c **** 
 174:../../test/testqueues.c **** static msg_t thread2(void *p) {
  29               		.loc 1 174 0
  30               		.cfi_startproc
  31               	.LVL1:
  32               	/* prologue: function */
  33               	/* frame size = 0 */
  34               	/* stack size = 0 */
  35               	.L__stack_usage = 0
 175:../../test/testqueues.c **** 
 176:../../test/testqueues.c ****   (void)p;
 177:../../test/testqueues.c ****   chOQPutTimeout(&oq, 0, MS2ST(200));
  36               		.loc 1 177 0
  37 0002 48EC      		ldi r20,lo8(-56)
  38 0004 50E0      		ldi r21,0
  39 0006 60E0      		ldi r22,0
  40 0008 80E0      		ldi r24,lo8(oq)
  41 000a 90E0      		ldi r25,hi8(oq)
  42               	.LVL2:
  43 000c 0E94 0000 		call chOQPutTimeout
  44               	.LVL3:
 178:../../test/testqueues.c ****   return 0;
 179:../../test/testqueues.c **** }
  45               		.loc 1 179 0
  46 0010 80E0      		ldi r24,0
  47 0012 90E0      		ldi r25,0
  48 0014 0895      		ret
  49               		.cfi_endproc
  50               	.LFE12:
  53               	queues2_setup:
  54               	.LFB11:
 169:../../test/testqueues.c **** static void queues2_setup(void) {
  55               		.loc 1 169 0
  56               		.cfi_startproc
  57 0016 0F93      		push r16
  58               	.LCFI0:
  59               		.cfi_def_cfa_offset 3
  60               		.cfi_offset 16, -2
  61 0018 1F93      		push r17
  62               	.LCFI1:
  63               		.cfi_def_cfa_offset 4
  64               		.cfi_offset 17, -3
  65               	/* prologue: function */
  66               	/* frame size = 0 */
  67               	/* stack size = 2 */
  68               	.L__stack_usage = 2
 171:../../test/testqueues.c ****   chOQInit(&oq, wa[0], TEST_QUEUES_SIZE, notify, NULL);
  69               		.loc 1 171 0
  70 001a 6091 0000 		lds r22,wa
  71 001e 7091 0000 		lds r23,wa+1
  72 0022 00E0      		ldi r16,0
  73 0024 10E0      		ldi r17,0
  74 0026 20E0      		ldi r18,lo8(gs(notify))
  75 0028 30E0      		ldi r19,hi8(gs(notify))
  76 002a 44E0      		ldi r20,lo8(4)
  77 002c 50E0      		ldi r21,0
  78 002e 80E0      		ldi r24,lo8(oq)
  79 0030 90E0      		ldi r25,hi8(oq)
  80 0032 0E94 0000 		call chOQInit
  81               	.LVL4:
  82               	/* epilogue start */
 172:../../test/testqueues.c **** }
  83               		.loc 1 172 0
  84 0036 1F91      		pop r17
  85 0038 0F91      		pop r16
  86 003a 0895      		ret
  87               		.cfi_endproc
  88               	.LFE11:
  91               	thread1:
  92               	.LFB9:
  87:../../test/testqueues.c **** static msg_t thread1(void *p) {
  93               		.loc 1 87 0
  94               		.cfi_startproc
  95               	.LVL5:
  96               	/* prologue: function */
  97               	/* frame size = 0 */
  98               	/* stack size = 0 */
  99               	.L__stack_usage = 0
  90:../../test/testqueues.c ****   chIQGetTimeout(&iq, MS2ST(200));
 100               		.loc 1 90 0
 101 003c 68EC      		ldi r22,lo8(-56)
 102 003e 70E0      		ldi r23,0
 103 0040 80E0      		ldi r24,lo8(iq)
 104 0042 90E0      		ldi r25,hi8(iq)
 105               	.LVL6:
 106 0044 0E94 0000 		call chIQGetTimeout
 107               	.LVL7:
  92:../../test/testqueues.c **** }
 108               		.loc 1 92 0
 109 0048 80E0      		ldi r24,0
 110 004a 90E0      		ldi r25,0
 111 004c 0895      		ret
 112               		.cfi_endproc
 113               	.LFE9:
 116               	queues1_setup:
 117               	.LFB8:
  82:../../test/testqueues.c **** static void queues1_setup(void) {
 118               		.loc 1 82 0
 119               		.cfi_startproc
 120 004e 0F93      		push r16
 121               	.LCFI2:
 122               		.cfi_def_cfa_offset 3
 123               		.cfi_offset 16, -2
 124 0050 1F93      		push r17
 125               	.LCFI3:
 126               		.cfi_def_cfa_offset 4
 127               		.cfi_offset 17, -3
 128               	/* prologue: function */
 129               	/* frame size = 0 */
 130               	/* stack size = 2 */
 131               	.L__stack_usage = 2
  84:../../test/testqueues.c ****   chIQInit(&iq, wa[0], TEST_QUEUES_SIZE, notify, NULL);
 132               		.loc 1 84 0
 133 0052 6091 0000 		lds r22,wa
 134 0056 7091 0000 		lds r23,wa+1
 135 005a 00E0      		ldi r16,0
 136 005c 10E0      		ldi r17,0
 137 005e 20E0      		ldi r18,lo8(gs(notify))
 138 0060 30E0      		ldi r19,hi8(gs(notify))
 139 0062 44E0      		ldi r20,lo8(4)
 140 0064 50E0      		ldi r21,0
 141 0066 80E0      		ldi r24,lo8(iq)
 142 0068 90E0      		ldi r25,hi8(iq)
 143 006a 0E94 0000 		call chIQInit
 144               	.LVL8:
 145               	/* epilogue start */
  85:../../test/testqueues.c **** }
 146               		.loc 1 85 0
 147 006e 1F91      		pop r17
 148 0070 0F91      		pop r16
 149 0072 0895      		ret
 150               		.cfi_endproc
 151               	.LFE8:
 153               		.section	.rodata.str1.1,"aMS",@progbits,1
 154               	.LC0:
 155 0000 4142 4344 		.string	"ABCD"
 155      00
 156               		.text
 158               	queues2_execute:
 159               	.LFB13:
 180:../../test/testqueues.c **** 
 181:../../test/testqueues.c **** static void queues2_execute(void) {
 160               		.loc 1 181 0
 161               		.cfi_startproc
 162 0074 0F93      		push r16
 163               	.LCFI4:
 164               		.cfi_def_cfa_offset 3
 165               		.cfi_offset 16, -2
 166 0076 1F93      		push r17
 167               	.LCFI5:
 168               		.cfi_def_cfa_offset 4
 169               		.cfi_offset 17, -3
 170 0078 CF93      		push r28
 171               	.LCFI6:
 172               		.cfi_def_cfa_offset 5
 173               		.cfi_offset 28, -4
 174 007a DF93      		push r29
 175               	.LCFI7:
 176               		.cfi_def_cfa_offset 6
 177               		.cfi_offset 29, -5
 178               	/* prologue: function */
 179               	/* frame size = 0 */
 180               	/* stack size = 4 */
 181               	.L__stack_usage = 4
 182:../../test/testqueues.c ****   unsigned i;
 183:../../test/testqueues.c ****   size_t n;
 184:../../test/testqueues.c **** 
 185:../../test/testqueues.c ****   /* Initial empty state */
 186:../../test/testqueues.c ****   test_assert_lock(1, chOQIsEmptyI(&oq), "not empty");
 182               		.loc 1 186 0
 183               	/* #APP */
 184               	 ;  186 "../../test/testqueues.c" 1
 185 007c F894      		cli
 186               	 ;  0 "" 2
 187               	/* #NOAPP */
 188 007e 2091 0000 		lds r18,oq+10
 189 0082 3091 0000 		lds r19,oq+10+1
 190 0086 8091 0000 		lds r24,oq+12
 191 008a 9091 0000 		lds r25,oq+12+1
 192 008e 2817      		cp r18,r24
 193 0090 3907      		cpc r19,r25
 194 0092 01F4      		brne .+2
 195 0094 00C0      		rjmp .L66
 196               	.L34:
 197 0096 60E0      		ldi r22,0
 198               	.L7:
 199               		.loc 1 186 0 is_stmt 0 discriminator 4
 200 0098 81E0      		ldi r24,lo8(1)
 201 009a 90E0      		ldi r25,0
 202 009c 0E94 0000 		call _test_assert
 203               	.LVL9:
 204               	/* #APP */
 205               	 ;  186 "../../test/testqueues.c" 1
 206 00a0 7894      		sei
 207               	 ;  0 "" 2
 208               	/* #NOAPP */
 209 00a2 8111      		cpse r24,__zero_reg__
 210 00a4 00C0      		rjmp .L6
 211               	.LVL10:
 212               		.loc 1 186 0 discriminator 6
 213 00a6 C1E4      		ldi r28,lo8(65)
 214               	.LVL11:
 215               	.L11:
 187:../../test/testqueues.c **** 
 188:../../test/testqueues.c ****   /* Queue filling */
 189:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 190:../../test/testqueues.c ****     chOQPut(&oq, 'A' + i);
 216               		.loc 1 190 0 is_stmt 1 discriminator 2
 217 00a8 4FEF      		ldi r20,lo8(-1)
 218 00aa 5FEF      		ldi r21,lo8(-1)
 219 00ac 6C2F      		mov r22,r28
 220 00ae 80E0      		ldi r24,lo8(oq)
 221 00b0 90E0      		ldi r25,hi8(oq)
 222 00b2 0E94 0000 		call chOQPutTimeout
 223               	.LVL12:
 224 00b6 CF5F      		subi r28,lo8(-(1))
 189:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 225               		.loc 1 189 0 discriminator 2
 226 00b8 C534      		cpi r28,lo8(69)
 227 00ba 01F4      		brne .L11
 191:../../test/testqueues.c ****   test_assert_lock(2, chOQIsFullI(&oq), "still has space");
 228               		.loc 1 191 0
 229               	/* #APP */
 230               	 ;  191 "../../test/testqueues.c" 1
 231 00bc F894      		cli
 232               	 ;  0 "" 2
 233               	/* #NOAPP */
 234 00be 61E0      		ldi r22,lo8(1)
 235 00c0 8091 0000 		lds r24,oq+4
 236 00c4 9091 0000 		lds r25,oq+4+1
 237 00c8 892B      		or r24,r25
 238 00ca 01F4      		brne .L67
 239 00cc 82E0      		ldi r24,lo8(2)
 240 00ce 90E0      		ldi r25,0
 241 00d0 0E94 0000 		call _test_assert
 242               	.LVL13:
 243               	/* #APP */
 244               	 ;  191 "../../test/testqueues.c" 1
 245 00d4 7894      		sei
 246               	 ;  0 "" 2
 247               	/* #NOAPP */
 248 00d6 8111      		cpse r24,__zero_reg__
 249 00d8 00C0      		rjmp .L6
 250               	.L13:
 251               	.LVL14:
 252               	.LBB6:
 253               	.LBB7:
 254 00da C4E0      		ldi r28,lo8(4)
 255 00dc D0E0      		ldi r29,0
 256               	.LVL15:
 257               	.L14:
 258               	.LBB8:
 192:../../test/testqueues.c **** 
 193:../../test/testqueues.c ****   /* Queue emptying */
 194:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++) {
 195:../../test/testqueues.c ****     char c;
 196:../../test/testqueues.c **** 
 197:../../test/testqueues.c ****     chSysLock();
 259               		.loc 1 197 0
 260               	/* #APP */
 261               	 ;  197 "../../test/testqueues.c" 1
 262 00de F894      		cli
 263               	 ;  0 "" 2
 198:../../test/testqueues.c ****     c = chOQGetI(&oq);
 264               		.loc 1 198 0
 265               	/* #NOAPP */
 266 00e0 80E0      		ldi r24,lo8(oq)
 267 00e2 90E0      		ldi r25,hi8(oq)
 268 00e4 0E94 0000 		call chOQGetI
 269               	.LVL16:
 199:../../test/testqueues.c ****     chSysUnlock();
 270               		.loc 1 199 0
 271               	/* #APP */
 272               	 ;  199 "../../test/testqueues.c" 1
 273 00e8 7894      		sei
 274               	 ;  0 "" 2
 200:../../test/testqueues.c ****     test_emit_token(c);
 275               		.loc 1 200 0
 276               	/* #NOAPP */
 277 00ea 0E94 0000 		call test_emit_token
 278               	.LVL17:
 279 00ee 2197      		sbiw r28,1
 280               	.LBE8:
 194:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++) {
 281               		.loc 1 194 0
 282 00f0 01F4      		brne .L14
 201:../../test/testqueues.c ****   }
 202:../../test/testqueues.c ****   test_assert_lock(3, chOQIsEmptyI(&oq), "still full");
 283               		.loc 1 202 0
 284               	/* #APP */
 285               	 ;  202 "../../test/testqueues.c" 1
 286 00f2 F894      		cli
 287               	 ;  0 "" 2
 288               	/* #NOAPP */
 289 00f4 2091 0000 		lds r18,oq+10
 290 00f8 3091 0000 		lds r19,oq+10+1
 291 00fc 8091 0000 		lds r24,oq+12
 292 0100 9091 0000 		lds r25,oq+12+1
 293 0104 2817      		cp r18,r24
 294 0106 3907      		cpc r19,r25
 295 0108 01F4      		brne .+2
 296 010a 00C0      		rjmp .L68
 297               	.L35:
 298 010c 60E0      		ldi r22,0
 299               	.L15:
 300 010e 83E0      		ldi r24,lo8(3)
 301 0110 90E0      		ldi r25,0
 302 0112 0E94 0000 		call _test_assert
 303               	.LVL18:
 304               	/* #APP */
 305               	 ;  202 "../../test/testqueues.c" 1
 306 0116 7894      		sei
 307               	 ;  0 "" 2
 308               	/* #NOAPP */
 309 0118 8823      		tst r24
 310 011a 01F0      		breq .L17
 311               	.L6:
 312               	/* epilogue start */
 313               	.LBE7:
 314               	.LBE6:
 203:../../test/testqueues.c ****   test_assert_sequence(4, "ABCD");
 204:../../test/testqueues.c ****   test_assert_lock(5, chOQGetI(&oq) == Q_EMPTY, "failed to report Q_EMPTY");
 205:../../test/testqueues.c **** 
 206:../../test/testqueues.c ****   /* Writing the whole thing */
 207:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE * 2, TIME_IMMEDIATE);
 208:../../test/testqueues.c ****   test_assert(6, n == TEST_QUEUES_SIZE, "wrong returned size");
 209:../../test/testqueues.c ****   test_assert_lock(7, chOQIsFullI(&oq), "not full");
 210:../../test/testqueues.c ****   threads[0] = chThdCreateStatic(wa[0], WA_SIZE, chThdGetPriority()+1, thread2, NULL);
 211:../../test/testqueues.c ****   test_assert_lock(8, chOQGetFullI(&oq) == TEST_QUEUES_SIZE, "not empty");
 212:../../test/testqueues.c ****   test_wait_threads();
 213:../../test/testqueues.c **** 
 214:../../test/testqueues.c ****   /* Testing reset */
 215:../../test/testqueues.c ****   chSysLock();
 216:../../test/testqueues.c ****   chOQResetI(&oq);
 217:../../test/testqueues.c ****   chSysUnlock();
 218:../../test/testqueues.c ****   test_assert_lock(9, chOQGetFullI(&oq) == 0, "still full");
 219:../../test/testqueues.c **** 
 220:../../test/testqueues.c ****   /* Partial writes */
 221:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 222:../../test/testqueues.c ****   test_assert(10, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 223:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 224:../../test/testqueues.c ****   test_assert(11, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 225:../../test/testqueues.c ****   test_assert_lock(12, chOQIsFullI(&oq), "not full");
 226:../../test/testqueues.c **** 
 227:../../test/testqueues.c ****   /* Timeout */
 228:../../test/testqueues.c ****   test_assert(13, chOQPutTimeout(&oq, 0, 10) == Q_TIMEOUT, "wrong timeout return");
 229:../../test/testqueues.c **** }
 315               		.loc 1 229 0
 316 011c DF91      		pop r29
 317 011e CF91      		pop r28
 318 0120 1F91      		pop r17
 319 0122 0F91      		pop r16
 320 0124 0895      		ret
 321               	.L67:
 191:../../test/testqueues.c ****   test_assert_lock(2, chOQIsFullI(&oq), "still has space");
 322               		.loc 1 191 0
 323 0126 60E0      		ldi r22,0
 324 0128 82E0      		ldi r24,lo8(2)
 325 012a 90E0      		ldi r25,0
 326 012c 0E94 0000 		call _test_assert
 327               	.LVL19:
 328               	/* #APP */
 329               	 ;  191 "../../test/testqueues.c" 1
 330 0130 7894      		sei
 331               	 ;  0 "" 2
 332               	/* #NOAPP */
 333 0132 8823      		tst r24
 334 0134 01F0      		breq .L13
 335 0136 00C0      		rjmp .L6
 336               	.L66:
 186:../../test/testqueues.c ****   test_assert_lock(1, chOQIsEmptyI(&oq), "not empty");
 337               		.loc 1 186 0 discriminator 1
 338 0138 61E0      		ldi r22,lo8(1)
 339 013a 8091 0000 		lds r24,oq+4
 340 013e 9091 0000 		lds r25,oq+4+1
 341 0142 892B      		or r24,r25
 342 0144 01F0      		breq .+2
 343 0146 00C0      		rjmp .L7
 344 0148 00C0      		rjmp .L34
 345               	.L17:
 346               	.LBB11:
 347               	.LBB9:
 203:../../test/testqueues.c ****   test_assert_sequence(4, "ABCD");
 348               		.loc 1 203 0
 349 014a 60E0      		ldi r22,lo8(.LC0)
 350 014c 70E0      		ldi r23,hi8(.LC0)
 351 014e 84E0      		ldi r24,lo8(4)
 352 0150 90E0      		ldi r25,0
 353 0152 0E94 0000 		call _test_assert_sequence
 354               	.LVL20:
 355 0156 8111      		cpse r24,__zero_reg__
 356 0158 00C0      		rjmp .L6
 204:../../test/testqueues.c ****   test_assert_lock(5, chOQGetI(&oq) == Q_EMPTY, "failed to report Q_EMPTY");
 357               		.loc 1 204 0
 358               	/* #APP */
 359               	 ;  204 "../../test/testqueues.c" 1
 360 015a F894      		cli
 361               	 ;  0 "" 2
 362               	/* #NOAPP */
 363 015c 80E0      		ldi r24,lo8(oq)
 364 015e 90E0      		ldi r25,hi8(oq)
 365 0160 0E94 0000 		call chOQGetI
 366               	.LVL21:
 367 0164 61E0      		ldi r22,lo8(1)
 368 0166 0396      		adiw r24,3
 369 0168 01F0      		breq .L19
 370 016a 60E0      		ldi r22,0
 371               	.L19:
 372 016c 85E0      		ldi r24,lo8(5)
 373 016e 90E0      		ldi r25,0
 374 0170 0E94 0000 		call _test_assert
 375               	.LVL22:
 376               	/* #APP */
 377               	 ;  204 "../../test/testqueues.c" 1
 378 0174 7894      		sei
 379               	 ;  0 "" 2
 380               	/* #NOAPP */
 381 0176 8111      		cpse r24,__zero_reg__
 382 0178 00C0      		rjmp .L6
 207:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE * 2, TIME_IMMEDIATE);
 383               		.loc 1 207 0
 384 017a C091 0000 		lds r28,wa+2
 385 017e D091 0000 		lds r29,wa+2+1
 386 0182 20E0      		ldi r18,0
 387 0184 30E0      		ldi r19,0
 388 0186 48E0      		ldi r20,lo8(8)
 389 0188 50E0      		ldi r21,0
 390 018a BE01      		movw r22,r28
 391 018c 80E0      		ldi r24,lo8(oq)
 392 018e 90E0      		ldi r25,hi8(oq)
 393 0190 0E94 0000 		call chOQWriteTimeout
 394               	.LVL23:
 208:../../test/testqueues.c ****   test_assert(6, n == TEST_QUEUES_SIZE, "wrong returned size");
 395               		.loc 1 208 0
 396 0194 61E0      		ldi r22,lo8(1)
 397 0196 0497      		sbiw r24,4
 398 0198 01F0      		breq .L21
 399 019a 60E0      		ldi r22,0
 400               	.L21:
 401 019c 86E0      		ldi r24,lo8(6)
 402 019e 90E0      		ldi r25,0
 403               	.LVL24:
 404 01a0 0E94 0000 		call _test_assert
 405               	.LVL25:
 406 01a4 8111      		cpse r24,__zero_reg__
 407 01a6 00C0      		rjmp .L6
 209:../../test/testqueues.c ****   test_assert_lock(7, chOQIsFullI(&oq), "not full");
 408               		.loc 1 209 0
 409               	/* #APP */
 410               	 ;  209 "../../test/testqueues.c" 1
 411 01a8 F894      		cli
 412               	 ;  0 "" 2
 413               	/* #NOAPP */
 414 01aa 61E0      		ldi r22,lo8(1)
 415 01ac 8091 0000 		lds r24,oq+4
 416 01b0 9091 0000 		lds r25,oq+4+1
 417 01b4 892B      		or r24,r25
 418 01b6 01F0      		breq .L23
 419 01b8 60E0      		ldi r22,0
 420               	.L23:
 421 01ba 87E0      		ldi r24,lo8(7)
 422 01bc 90E0      		ldi r25,0
 423 01be 0E94 0000 		call _test_assert
 424               	.LVL26:
 425               	/* #APP */
 426               	 ;  209 "../../test/testqueues.c" 1
 427 01c2 7894      		sei
 428               	 ;  0 "" 2
 429               	/* #NOAPP */
 430 01c4 8111      		cpse r24,__zero_reg__
 431 01c6 00C0      		rjmp .L6
 210:../../test/testqueues.c ****   threads[0] = chThdCreateStatic(wa[0], WA_SIZE, chThdGetPriority()+1, thread2, NULL);
 432               		.loc 1 210 0
 433 01c8 E091 0000 		lds r30,rlist+11
 434 01cc F091 0000 		lds r31,rlist+11+1
 435 01d0 4481      		ldd r20,Z+4
 436 01d2 4F5F      		subi r20,lo8(-(1))
 437 01d4 00E0      		ldi r16,0
 438 01d6 10E0      		ldi r17,0
 439 01d8 20E0      		ldi r18,lo8(gs(thread2))
 440 01da 30E0      		ldi r19,hi8(gs(thread2))
 441 01dc 67E9      		ldi r22,lo8(-105)
 442 01de 70E0      		ldi r23,0
 443 01e0 8091 0000 		lds r24,wa
 444 01e4 9091 0000 		lds r25,wa+1
 445 01e8 0E94 0000 		call chThdCreateStatic
 446               	.LVL27:
 447 01ec 9093 0000 		sts threads+1,r25
 448 01f0 8093 0000 		sts threads,r24
 211:../../test/testqueues.c ****   test_assert_lock(8, chOQGetFullI(&oq) == TEST_QUEUES_SIZE, "not empty");
 449               		.loc 1 211 0
 450               	/* #APP */
 451               	 ;  211 "../../test/testqueues.c" 1
 452 01f4 F894      		cli
 453               	 ;  0 "" 2
 454               	/* #NOAPP */
 455 01f6 8091 0000 		lds r24,oq+8
 456 01fa 9091 0000 		lds r25,oq+8+1
 457 01fe 2091 0000 		lds r18,oq+6
 458 0202 3091 0000 		lds r19,oq+6+1
 459 0206 821B      		sub r24,r18
 460 0208 930B      		sbc r25,r19
 461 020a 2091 0000 		lds r18,oq+4
 462 020e 3091 0000 		lds r19,oq+4+1
 463 0212 821B      		sub r24,r18
 464 0214 930B      		sbc r25,r19
 465 0216 61E0      		ldi r22,lo8(1)
 466 0218 0497      		sbiw r24,4
 467 021a 01F0      		breq .L25
 468 021c 60E0      		ldi r22,0
 469               	.L25:
 470 021e 88E0      		ldi r24,lo8(8)
 471 0220 90E0      		ldi r25,0
 472 0222 0E94 0000 		call _test_assert
 473               	.LVL28:
 474               	/* #APP */
 475               	 ;  211 "../../test/testqueues.c" 1
 476 0226 7894      		sei
 477               	 ;  0 "" 2
 478               	/* #NOAPP */
 479 0228 8111      		cpse r24,__zero_reg__
 480 022a 00C0      		rjmp .L6
 212:../../test/testqueues.c ****   test_wait_threads();
 481               		.loc 1 212 0
 482 022c 0E94 0000 		call test_wait_threads
 483               	.LVL29:
 215:../../test/testqueues.c ****   chSysLock();
 484               		.loc 1 215 0
 485               	/* #APP */
 486               	 ;  215 "../../test/testqueues.c" 1
 487 0230 F894      		cli
 488               	 ;  0 "" 2
 216:../../test/testqueues.c ****   chOQResetI(&oq);
 489               		.loc 1 216 0
 490               	/* #NOAPP */
 491 0232 80E0      		ldi r24,lo8(oq)
 492 0234 90E0      		ldi r25,hi8(oq)
 493 0236 0E94 0000 		call chOQResetI
 494               	.LVL30:
 217:../../test/testqueues.c ****   chSysUnlock();
 495               		.loc 1 217 0
 496               	/* #APP */
 497               	 ;  217 "../../test/testqueues.c" 1
 498 023a 7894      		sei
 499               	 ;  0 "" 2
 218:../../test/testqueues.c ****   test_assert_lock(9, chOQGetFullI(&oq) == 0, "still full");
 500               		.loc 1 218 0
 501               	 ;  218 "../../test/testqueues.c" 1
 502 023c F894      		cli
 503               	 ;  0 "" 2
 504               	/* #NOAPP */
 505 023e 8091 0000 		lds r24,oq+8
 506 0242 9091 0000 		lds r25,oq+8+1
 507 0246 2091 0000 		lds r18,oq+6
 508 024a 3091 0000 		lds r19,oq+6+1
 509 024e 821B      		sub r24,r18
 510 0250 930B      		sbc r25,r19
 511 0252 61E0      		ldi r22,lo8(1)
 512 0254 2091 0000 		lds r18,oq+4
 513 0258 3091 0000 		lds r19,oq+4+1
 514 025c 8217      		cp r24,r18
 515 025e 9307      		cpc r25,r19
 516 0260 01F0      		breq .L27
 517 0262 60E0      		ldi r22,0
 518               	.L27:
 519 0264 89E0      		ldi r24,lo8(9)
 520 0266 90E0      		ldi r25,0
 521 0268 0E94 0000 		call _test_assert
 522               	.LVL31:
 523               	/* #APP */
 524               	 ;  218 "../../test/testqueues.c" 1
 525 026c 7894      		sei
 526               	 ;  0 "" 2
 527               	/* #NOAPP */
 528 026e 8111      		cpse r24,__zero_reg__
 529 0270 00C0      		rjmp .L6
 221:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 530               		.loc 1 221 0
 531 0272 20E0      		ldi r18,0
 532 0274 30E0      		ldi r19,0
 533 0276 42E0      		ldi r20,lo8(2)
 534 0278 50E0      		ldi r21,0
 535 027a BE01      		movw r22,r28
 536 027c 80E0      		ldi r24,lo8(oq)
 537 027e 90E0      		ldi r25,hi8(oq)
 538 0280 0E94 0000 		call chOQWriteTimeout
 539               	.LVL32:
 222:../../test/testqueues.c ****   test_assert(10, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 540               		.loc 1 222 0
 541 0284 61E0      		ldi r22,lo8(1)
 542 0286 0297      		sbiw r24,2
 543 0288 01F0      		breq .L29
 544 028a 60E0      		ldi r22,0
 545               	.L29:
 546 028c 8AE0      		ldi r24,lo8(10)
 547 028e 90E0      		ldi r25,0
 548               	.LVL33:
 549 0290 0E94 0000 		call _test_assert
 550               	.LVL34:
 551 0294 8111      		cpse r24,__zero_reg__
 552 0296 00C0      		rjmp .L6
 223:../../test/testqueues.c ****   n = chOQWriteTimeout(&oq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 553               		.loc 1 223 0
 554 0298 20E0      		ldi r18,0
 555 029a 30E0      		ldi r19,0
 556 029c 42E0      		ldi r20,lo8(2)
 557 029e 50E0      		ldi r21,0
 558 02a0 BE01      		movw r22,r28
 559 02a2 80E0      		ldi r24,lo8(oq)
 560 02a4 90E0      		ldi r25,hi8(oq)
 561 02a6 0E94 0000 		call chOQWriteTimeout
 562               	.LVL35:
 224:../../test/testqueues.c ****   test_assert(11, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 563               		.loc 1 224 0
 564 02aa 61E0      		ldi r22,lo8(1)
 565 02ac 0297      		sbiw r24,2
 566 02ae 01F0      		breq .L30
 567 02b0 60E0      		ldi r22,0
 568               	.L30:
 569 02b2 8BE0      		ldi r24,lo8(11)
 570 02b4 90E0      		ldi r25,0
 571               	.LVL36:
 572 02b6 0E94 0000 		call _test_assert
 573               	.LVL37:
 574 02ba 8111      		cpse r24,__zero_reg__
 575 02bc 00C0      		rjmp .L6
 225:../../test/testqueues.c ****   test_assert_lock(12, chOQIsFullI(&oq), "not full");
 576               		.loc 1 225 0
 577               	/* #APP */
 578               	 ;  225 "../../test/testqueues.c" 1
 579 02be F894      		cli
 580               	 ;  0 "" 2
 581               	/* #NOAPP */
 582 02c0 61E0      		ldi r22,lo8(1)
 583 02c2 8091 0000 		lds r24,oq+4
 584 02c6 9091 0000 		lds r25,oq+4+1
 585 02ca 892B      		or r24,r25
 586 02cc 01F0      		breq .L31
 587 02ce 60E0      		ldi r22,0
 588               	.L31:
 589 02d0 8CE0      		ldi r24,lo8(12)
 590 02d2 90E0      		ldi r25,0
 591 02d4 0E94 0000 		call _test_assert
 592               	.LVL38:
 593               	/* #APP */
 594               	 ;  225 "../../test/testqueues.c" 1
 595 02d8 7894      		sei
 596               	 ;  0 "" 2
 597               	/* #NOAPP */
 598 02da 8111      		cpse r24,__zero_reg__
 599 02dc 00C0      		rjmp .L6
 228:../../test/testqueues.c ****   test_assert(13, chOQPutTimeout(&oq, 0, 10) == Q_TIMEOUT, "wrong timeout return");
 600               		.loc 1 228 0
 601 02de 4AE0      		ldi r20,lo8(10)
 602 02e0 50E0      		ldi r21,0
 603 02e2 60E0      		ldi r22,0
 604 02e4 80E0      		ldi r24,lo8(oq)
 605 02e6 90E0      		ldi r25,hi8(oq)
 606 02e8 0E94 0000 		call chOQPutTimeout
 607               	.LVL39:
 608 02ec 61E0      		ldi r22,lo8(1)
 609 02ee 0196      		adiw r24,1
 610 02f0 01F0      		breq .L33
 611 02f2 60E0      		ldi r22,0
 612               	.L33:
 613 02f4 8DE0      		ldi r24,lo8(13)
 614 02f6 90E0      		ldi r25,0
 615               	/* epilogue start */
 616               	.LBE9:
 617               	.LBE11:
 618               		.loc 1 229 0
 619 02f8 DF91      		pop r29
 620 02fa CF91      		pop r28
 621 02fc 1F91      		pop r17
 622 02fe 0F91      		pop r16
 623               	.LBB12:
 624               	.LBB10:
 228:../../test/testqueues.c ****   test_assert(13, chOQPutTimeout(&oq, 0, 10) == Q_TIMEOUT, "wrong timeout return");
 625               		.loc 1 228 0
 626 0300 0C94 0000 		jmp _test_assert
 627               	.LVL40:
 628               	.L68:
 202:../../test/testqueues.c ****   test_assert_lock(3, chOQIsEmptyI(&oq), "still full");
 629               		.loc 1 202 0
 630 0304 61E0      		ldi r22,lo8(1)
 631 0306 8091 0000 		lds r24,oq+4
 632 030a 9091 0000 		lds r25,oq+4+1
 633 030e 892B      		or r24,r25
 634 0310 01F0      		breq .+2
 635 0312 00C0      		rjmp .L15
 636 0314 00C0      		rjmp .L35
 637               	.LBE10:
 638               	.LBE12:
 639               		.cfi_endproc
 640               	.LFE13:
 643               	queues1_execute:
 644               	.LFB10:
  94:../../test/testqueues.c **** static void queues1_execute(void) {
 645               		.loc 1 94 0
 646               		.cfi_startproc
 647 0316 0F93      		push r16
 648               	.LCFI8:
 649               		.cfi_def_cfa_offset 3
 650               		.cfi_offset 16, -2
 651 0318 1F93      		push r17
 652               	.LCFI9:
 653               		.cfi_def_cfa_offset 4
 654               		.cfi_offset 17, -3
 655 031a CF93      		push r28
 656               	.LCFI10:
 657               		.cfi_def_cfa_offset 5
 658               		.cfi_offset 28, -4
 659 031c DF93      		push r29
 660               	.LCFI11:
 661               		.cfi_def_cfa_offset 6
 662               		.cfi_offset 29, -5
 663               	/* prologue: function */
 664               	/* frame size = 0 */
 665               	/* stack size = 4 */
 666               	.L__stack_usage = 4
  99:../../test/testqueues.c ****   test_assert_lock(1, chIQIsEmptyI(&iq), "not empty");
 667               		.loc 1 99 0
 668               	/* #APP */
 669               	 ;  99 "../../test/testqueues.c" 1
 670 031e F894      		cli
 671               	 ;  0 "" 2
 672               	/* #NOAPP */
 673 0320 61E0      		ldi r22,lo8(1)
 674 0322 8091 0000 		lds r24,iq+4
 675 0326 9091 0000 		lds r25,iq+4+1
 676 032a 892B      		or r24,r25
 677 032c 01F0      		breq .L70
 678 032e 60E0      		ldi r22,0
 679               	.L70:
 680 0330 81E0      		ldi r24,lo8(1)
 681 0332 90E0      		ldi r25,0
 682 0334 0E94 0000 		call _test_assert
 683               	.LVL41:
 684               	/* #APP */
 685               	 ;  99 "../../test/testqueues.c" 1
 686 0338 7894      		sei
 687               	 ;  0 "" 2
 688               	/* #NOAPP */
 689 033a 8111      		cpse r24,__zero_reg__
 690 033c 00C0      		rjmp .L69
 102:../../test/testqueues.c ****   chSysLock();
 691               		.loc 1 102 0 discriminator 2
 692               	/* #APP */
 693               	 ;  102 "../../test/testqueues.c" 1
 694 033e F894      		cli
 695               	 ;  0 "" 2
 696               	.LVL42:
 104:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 697               		.loc 1 104 0 discriminator 2
 698               	/* #NOAPP */
 699 0340 61E4      		ldi r22,lo8(65)
 700 0342 80E0      		ldi r24,lo8(iq)
 701 0344 90E0      		ldi r25,hi8(iq)
 702 0346 0E94 0000 		call chIQPutI
 703               	.LVL43:
 704 034a 62E4      		ldi r22,lo8(66)
 705 034c 80E0      		ldi r24,lo8(iq)
 706 034e 90E0      		ldi r25,hi8(iq)
 707 0350 0E94 0000 		call chIQPutI
 708               	.LVL44:
 709 0354 63E4      		ldi r22,lo8(67)
 710 0356 80E0      		ldi r24,lo8(iq)
 711 0358 90E0      		ldi r25,hi8(iq)
 712 035a 0E94 0000 		call chIQPutI
 713               	.LVL45:
 714 035e 64E4      		ldi r22,lo8(68)
 715 0360 80E0      		ldi r24,lo8(iq)
 716 0362 90E0      		ldi r25,hi8(iq)
 717 0364 0E94 0000 		call chIQPutI
 718               	.LVL46:
 105:../../test/testqueues.c ****   chSysUnlock();
 719               		.loc 1 105 0 discriminator 2
 720               	/* #APP */
 721               	 ;  105 "../../test/testqueues.c" 1
 722 0368 7894      		sei
 723               	 ;  0 "" 2
 106:../../test/testqueues.c ****   test_assert_lock(2, chIQIsFullI(&iq), "still has space");
 724               		.loc 1 106 0 discriminator 2
 725               	 ;  106 "../../test/testqueues.c" 1
 726 036a F894      		cli
 727               	 ;  0 "" 2
 728               	/* #NOAPP */
 729 036c 2091 0000 		lds r18,iq+10
 730 0370 3091 0000 		lds r19,iq+10+1
 731 0374 8091 0000 		lds r24,iq+12
 732 0378 9091 0000 		lds r25,iq+12+1
 733 037c 2817      		cp r18,r24
 734 037e 3907      		cpc r19,r25
 735 0380 01F4      		brne .+2
 736 0382 00C0      		rjmp .L130
 737               	.L95:
 106:../../test/testqueues.c ****   test_assert_lock(2, chIQIsFullI(&iq), "still has space");
 738               		.loc 1 106 0 is_stmt 0
 739 0384 60E0      		ldi r22,0
 740               	.L73:
 106:../../test/testqueues.c ****   test_assert_lock(2, chIQIsFullI(&iq), "still has space");
 741               		.loc 1 106 0 discriminator 4
 742 0386 82E0      		ldi r24,lo8(2)
 743 0388 90E0      		ldi r25,0
 744 038a 0E94 0000 		call _test_assert
 745               	.LVL47:
 746               	/* #APP */
 747               	 ;  106 "../../test/testqueues.c" 1
 748 038e 7894      		sei
 749               	 ;  0 "" 2
 750               	/* #NOAPP */
 751 0390 8823      		tst r24
 752 0392 01F0      		breq .L75
 753               	.LVL48:
 754               	.L69:
 755               	/* epilogue start */
 151:../../test/testqueues.c **** }
 756               		.loc 1 151 0 is_stmt 1
 757 0394 DF91      		pop r29
 758 0396 CF91      		pop r28
 759 0398 1F91      		pop r17
 760 039a 0F91      		pop r16
 761 039c 0895      		ret
 762               	.LVL49:
 763               	.L75:
 764               	.LBB15:
 765               	.LBB16:
 107:../../test/testqueues.c ****   test_assert_lock(3, chIQPutI(&iq, 0) == Q_FULL, "failed to report Q_FULL");
 766               		.loc 1 107 0
 767               	/* #APP */
 768               	 ;  107 "../../test/testqueues.c" 1
 769 039e F894      		cli
 770               	 ;  0 "" 2
 771               	/* #NOAPP */
 772 03a0 60E0      		ldi r22,0
 773 03a2 80E0      		ldi r24,lo8(iq)
 774 03a4 90E0      		ldi r25,hi8(iq)
 775 03a6 0E94 0000 		call chIQPutI
 776               	.LVL50:
 777 03aa 61E0      		ldi r22,lo8(1)
 778 03ac 0496      		adiw r24,4
 779 03ae 01F0      		breq .L76
 780 03b0 60E0      		ldi r22,0
 781               	.L76:
 782 03b2 83E0      		ldi r24,lo8(3)
 783 03b4 90E0      		ldi r25,0
 784 03b6 0E94 0000 		call _test_assert
 785               	.LVL51:
 786               	/* #APP */
 787               	 ;  107 "../../test/testqueues.c" 1
 788 03ba 7894      		sei
 789               	 ;  0 "" 2
 790               	/* #NOAPP */
 791 03bc 8111      		cpse r24,__zero_reg__
 792 03be 00C0      		rjmp .L69
 793               	.LVL52:
 794 03c0 C4E0      		ldi r28,lo8(4)
 795 03c2 D0E0      		ldi r29,0
 796               	.LVL53:
 797               	.L78:
 111:../../test/testqueues.c ****     test_emit_token(chIQGet(&iq));
 798               		.loc 1 111 0
 799 03c4 6FEF      		ldi r22,lo8(-1)
 800 03c6 7FEF      		ldi r23,lo8(-1)
 801 03c8 80E0      		ldi r24,lo8(iq)
 802 03ca 90E0      		ldi r25,hi8(iq)
 803 03cc 0E94 0000 		call chIQGetTimeout
 804               	.LVL54:
 805 03d0 0E94 0000 		call test_emit_token
 806               	.LVL55:
 807 03d4 2197      		sbiw r28,1
 110:../../test/testqueues.c ****   for (i = 0; i < TEST_QUEUES_SIZE; i++)
 808               		.loc 1 110 0
 809 03d6 01F4      		brne .L78
 112:../../test/testqueues.c ****   test_assert_lock(4, chIQIsEmptyI(&iq), "still full");
 810               		.loc 1 112 0
 811               	/* #APP */
 812               	 ;  112 "../../test/testqueues.c" 1
 813 03d8 F894      		cli
 814               	 ;  0 "" 2
 815               	/* #NOAPP */
 816 03da 61E0      		ldi r22,lo8(1)
 817 03dc 8091 0000 		lds r24,iq+4
 818 03e0 9091 0000 		lds r25,iq+4+1
 819 03e4 892B      		or r24,r25
 820 03e6 01F0      		breq .L79
 821 03e8 60E0      		ldi r22,0
 822               	.L79:
 823 03ea 84E0      		ldi r24,lo8(4)
 824 03ec 90E0      		ldi r25,0
 825 03ee 0E94 0000 		call _test_assert
 826               	.LVL56:
 827               	/* #APP */
 828               	 ;  112 "../../test/testqueues.c" 1
 829 03f2 7894      		sei
 830               	 ;  0 "" 2
 831               	/* #NOAPP */
 832 03f4 8111      		cpse r24,__zero_reg__
 833 03f6 00C0      		rjmp .L69
 113:../../test/testqueues.c ****   test_assert_sequence(5, "ABCD");
 834               		.loc 1 113 0
 835 03f8 60E0      		ldi r22,lo8(.LC0)
 836 03fa 70E0      		ldi r23,hi8(.LC0)
 837 03fc 85E0      		ldi r24,lo8(5)
 838 03fe 90E0      		ldi r25,0
 839 0400 0E94 0000 		call _test_assert_sequence
 840               	.LVL57:
 841 0404 8111      		cpse r24,__zero_reg__
 842 0406 00C0      		rjmp .L69
 116:../../test/testqueues.c ****   chSysLock();
 843               		.loc 1 116 0
 844               	/* #APP */
 845               	 ;  116 "../../test/testqueues.c" 1
 846 0408 F894      		cli
 847               	 ;  0 "" 2
 848               	.LVL58:
 118:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 849               		.loc 1 118 0
 850               	/* #NOAPP */
 851 040a 61E4      		ldi r22,lo8(65)
 852 040c 80E0      		ldi r24,lo8(iq)
 853 040e 90E0      		ldi r25,hi8(iq)
 854 0410 0E94 0000 		call chIQPutI
 855               	.LVL59:
 856 0414 62E4      		ldi r22,lo8(66)
 857 0416 80E0      		ldi r24,lo8(iq)
 858 0418 90E0      		ldi r25,hi8(iq)
 859 041a 0E94 0000 		call chIQPutI
 860               	.LVL60:
 861 041e 63E4      		ldi r22,lo8(67)
 862 0420 80E0      		ldi r24,lo8(iq)
 863 0422 90E0      		ldi r25,hi8(iq)
 864 0424 0E94 0000 		call chIQPutI
 865               	.LVL61:
 866 0428 64E4      		ldi r22,lo8(68)
 867 042a 80E0      		ldi r24,lo8(iq)
 868 042c 90E0      		ldi r25,hi8(iq)
 869 042e 0E94 0000 		call chIQPutI
 870               	.LVL62:
 119:../../test/testqueues.c ****   chSysUnlock();
 871               		.loc 1 119 0
 872               	/* #APP */
 873               	 ;  119 "../../test/testqueues.c" 1
 874 0432 7894      		sei
 875               	 ;  0 "" 2
 122:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE * 2, TIME_IMMEDIATE);
 876               		.loc 1 122 0
 877               	/* #NOAPP */
 878 0434 C091 0000 		lds r28,wa+2
 879 0438 D091 0000 		lds r29,wa+2+1
 880 043c 20E0      		ldi r18,0
 881 043e 30E0      		ldi r19,0
 882 0440 48E0      		ldi r20,lo8(8)
 883 0442 50E0      		ldi r21,0
 884 0444 BE01      		movw r22,r28
 885 0446 80E0      		ldi r24,lo8(iq)
 886 0448 90E0      		ldi r25,hi8(iq)
 887 044a 0E94 0000 		call chIQReadTimeout
 888               	.LVL63:
 123:../../test/testqueues.c ****   test_assert(6, n == TEST_QUEUES_SIZE, "wrong returned size");
 889               		.loc 1 123 0
 890 044e 61E0      		ldi r22,lo8(1)
 891 0450 0497      		sbiw r24,4
 892 0452 01F0      		breq .L82
 893 0454 60E0      		ldi r22,0
 894               	.L82:
 895 0456 86E0      		ldi r24,lo8(6)
 896 0458 90E0      		ldi r25,0
 897               	.LVL64:
 898 045a 0E94 0000 		call _test_assert
 899               	.LVL65:
 900 045e 8111      		cpse r24,__zero_reg__
 901 0460 00C0      		rjmp .L69
 124:../../test/testqueues.c ****   test_assert_lock(7, chIQIsEmptyI(&iq), "still full");
 902               		.loc 1 124 0
 903               	/* #APP */
 904               	 ;  124 "../../test/testqueues.c" 1
 905 0462 F894      		cli
 906               	 ;  0 "" 2
 907               	/* #NOAPP */
 908 0464 61E0      		ldi r22,lo8(1)
 909 0466 8091 0000 		lds r24,iq+4
 910 046a 9091 0000 		lds r25,iq+4+1
 911 046e 892B      		or r24,r25
 912 0470 01F0      		breq .L84
 913 0472 60E0      		ldi r22,0
 914               	.L84:
 915 0474 87E0      		ldi r24,lo8(7)
 916 0476 90E0      		ldi r25,0
 917 0478 0E94 0000 		call _test_assert
 918               	.LVL66:
 919               	/* #APP */
 920               	 ;  124 "../../test/testqueues.c" 1
 921 047c 7894      		sei
 922               	 ;  0 "" 2
 923               	/* #NOAPP */
 924 047e 8111      		cpse r24,__zero_reg__
 925 0480 00C0      		rjmp .L69
 127:../../test/testqueues.c ****   chSysLock();
 926               		.loc 1 127 0
 927               	/* #APP */
 928               	 ;  127 "../../test/testqueues.c" 1
 929 0482 F894      		cli
 930               	 ;  0 "" 2
 931               	.LVL67:
 129:../../test/testqueues.c ****     chIQPutI(&iq, 'A' + i);
 932               		.loc 1 129 0
 933               	/* #NOAPP */
 934 0484 61E4      		ldi r22,lo8(65)
 935 0486 80E0      		ldi r24,lo8(iq)
 936 0488 90E0      		ldi r25,hi8(iq)
 937 048a 0E94 0000 		call chIQPutI
 938               	.LVL68:
 939 048e 62E4      		ldi r22,lo8(66)
 940 0490 80E0      		ldi r24,lo8(iq)
 941 0492 90E0      		ldi r25,hi8(iq)
 942 0494 0E94 0000 		call chIQPutI
 943               	.LVL69:
 944 0498 63E4      		ldi r22,lo8(67)
 945 049a 80E0      		ldi r24,lo8(iq)
 946 049c 90E0      		ldi r25,hi8(iq)
 947 049e 0E94 0000 		call chIQPutI
 948               	.LVL70:
 949 04a2 64E4      		ldi r22,lo8(68)
 950 04a4 80E0      		ldi r24,lo8(iq)
 951 04a6 90E0      		ldi r25,hi8(iq)
 952 04a8 0E94 0000 		call chIQPutI
 953               	.LVL71:
 130:../../test/testqueues.c ****   chSysUnlock();
 954               		.loc 1 130 0
 955               	/* #APP */
 956               	 ;  130 "../../test/testqueues.c" 1
 957 04ac 7894      		sei
 958               	 ;  0 "" 2
 133:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 959               		.loc 1 133 0
 960               	/* #NOAPP */
 961 04ae 20E0      		ldi r18,0
 962 04b0 30E0      		ldi r19,0
 963 04b2 42E0      		ldi r20,lo8(2)
 964 04b4 50E0      		ldi r21,0
 965 04b6 BE01      		movw r22,r28
 966 04b8 80E0      		ldi r24,lo8(iq)
 967 04ba 90E0      		ldi r25,hi8(iq)
 968 04bc 0E94 0000 		call chIQReadTimeout
 969               	.LVL72:
 134:../../test/testqueues.c ****   test_assert(8, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 970               		.loc 1 134 0
 971 04c0 61E0      		ldi r22,lo8(1)
 972 04c2 0297      		sbiw r24,2
 973 04c4 01F0      		breq .L86
 974 04c6 60E0      		ldi r22,0
 975               	.L86:
 976 04c8 88E0      		ldi r24,lo8(8)
 977 04ca 90E0      		ldi r25,0
 978               	.LVL73:
 979 04cc 0E94 0000 		call _test_assert
 980               	.LVL74:
 981 04d0 8111      		cpse r24,__zero_reg__
 982 04d2 00C0      		rjmp .L69
 135:../../test/testqueues.c ****   n = chIQReadTimeout(&iq, wa[1], TEST_QUEUES_SIZE / 2, TIME_IMMEDIATE);
 983               		.loc 1 135 0
 984 04d4 20E0      		ldi r18,0
 985 04d6 30E0      		ldi r19,0
 986 04d8 42E0      		ldi r20,lo8(2)
 987 04da 50E0      		ldi r21,0
 988 04dc BE01      		movw r22,r28
 989 04de 80E0      		ldi r24,lo8(iq)
 990 04e0 90E0      		ldi r25,hi8(iq)
 991 04e2 0E94 0000 		call chIQReadTimeout
 992               	.LVL75:
 136:../../test/testqueues.c ****   test_assert(9, n == TEST_QUEUES_SIZE / 2, "wrong returned size");
 993               		.loc 1 136 0
 994 04e6 61E0      		ldi r22,lo8(1)
 995 04e8 0297      		sbiw r24,2
 996 04ea 01F0      		breq .L87
 997 04ec 60E0      		ldi r22,0
 998               	.L87:
 999 04ee 89E0      		ldi r24,lo8(9)
 1000 04f0 90E0      		ldi r25,0
 1001               	.LVL76:
 1002 04f2 0E94 0000 		call _test_assert
 1003               	.LVL77:
 1004 04f6 8111      		cpse r24,__zero_reg__
 1005 04f8 00C0      		rjmp .L69
 137:../../test/testqueues.c ****   test_assert_lock(10, chIQIsEmptyI(&iq), "still full");
 1006               		.loc 1 137 0
 1007               	/* #APP */
 1008               	 ;  137 "../../test/testqueues.c" 1
 1009 04fa F894      		cli
 1010               	 ;  0 "" 2
 1011               	/* #NOAPP */
 1012 04fc 61E0      		ldi r22,lo8(1)
 1013 04fe 8091 0000 		lds r24,iq+4
 1014 0502 9091 0000 		lds r25,iq+4+1
 1015 0506 892B      		or r24,r25
 1016 0508 01F0      		breq .L88
 1017 050a 60E0      		ldi r22,0
 1018               	.L88:
 1019 050c 8AE0      		ldi r24,lo8(10)
 1020 050e 90E0      		ldi r25,0
 1021 0510 0E94 0000 		call _test_assert
 1022               	.LVL78:
 1023               	/* #APP */
 1024               	 ;  137 "../../test/testqueues.c" 1
 1025 0514 7894      		sei
 1026               	 ;  0 "" 2
 1027               	/* #NOAPP */
 1028 0516 8111      		cpse r24,__zero_reg__
 1029 0518 00C0      		rjmp .L69
 140:../../test/testqueues.c ****   chSysLock();
 1030               		.loc 1 140 0
 1031               	/* #APP */
 1032               	 ;  140 "../../test/testqueues.c" 1
 1033 051a F894      		cli
 1034               	 ;  0 "" 2
 141:../../test/testqueues.c ****   chIQPutI(&iq, 0);
 1035               		.loc 1 141 0
 1036               	/* #NOAPP */
 1037 051c 60E0      		ldi r22,0
 1038 051e 80E0      		ldi r24,lo8(iq)
 1039 0520 90E0      		ldi r25,hi8(iq)
 1040 0522 0E94 0000 		call chIQPutI
 1041               	.LVL79:
 142:../../test/testqueues.c ****   chIQResetI(&iq);
 1042               		.loc 1 142 0
 1043 0526 80E0      		ldi r24,lo8(iq)
 1044 0528 90E0      		ldi r25,hi8(iq)
 1045 052a 0E94 0000 		call chIQResetI
 1046               	.LVL80:
 143:../../test/testqueues.c ****   chSysUnlock();
 1047               		.loc 1 143 0
 1048               	/* #APP */
 1049               	 ;  143 "../../test/testqueues.c" 1
 1050 052e 7894      		sei
 1051               	 ;  0 "" 2
 144:../../test/testqueues.c ****   test_assert_lock(11, chIQGetFullI(&iq) == 0, "still full");
 1052               		.loc 1 144 0
 1053               	 ;  144 "../../test/testqueues.c" 1
 1054 0530 F894      		cli
 1055               	 ;  0 "" 2
 1056               	/* #NOAPP */
 1057 0532 61E0      		ldi r22,lo8(1)
 1058 0534 8091 0000 		lds r24,iq+4
 1059 0538 9091 0000 		lds r25,iq+4+1
 1060 053c 892B      		or r24,r25
 1061 053e 01F0      		breq .L90
 1062 0540 60E0      		ldi r22,0
 1063               	.L90:
 1064 0542 8BE0      		ldi r24,lo8(11)
 1065 0544 90E0      		ldi r25,0
 1066 0546 0E94 0000 		call _test_assert
 1067               	.LVL81:
 1068               	/* #APP */
 1069               	 ;  144 "../../test/testqueues.c" 1
 1070 054a 7894      		sei
 1071               	 ;  0 "" 2
 1072               	/* #NOAPP */
 1073 054c 8111      		cpse r24,__zero_reg__
 1074 054e 00C0      		rjmp .L69
 145:../../test/testqueues.c ****   threads[0] = chThdCreateStatic(wa[0], WA_SIZE, chThdGetPriority()+1, thread1, NULL);
 1075               		.loc 1 145 0
 1076 0550 E091 0000 		lds r30,rlist+11
 1077 0554 F091 0000 		lds r31,rlist+11+1
 1078 0558 4481      		ldd r20,Z+4
 1079 055a 4F5F      		subi r20,lo8(-(1))
 1080 055c 00E0      		ldi r16,0
 1081 055e 10E0      		ldi r17,0
 1082 0560 20E0      		ldi r18,lo8(gs(thread1))
 1083 0562 30E0      		ldi r19,hi8(gs(thread1))
 1084 0564 67E9      		ldi r22,lo8(-105)
 1085 0566 70E0      		ldi r23,0
 1086 0568 8091 0000 		lds r24,wa
 1087 056c 9091 0000 		lds r25,wa+1
 1088 0570 0E94 0000 		call chThdCreateStatic
 1089               	.LVL82:
 1090 0574 9093 0000 		sts threads+1,r25
 1091 0578 8093 0000 		sts threads,r24
 146:../../test/testqueues.c ****   test_assert_lock(12, chIQGetFullI(&iq) == 0, "not empty");
 1092               		.loc 1 146 0
 1093               	/* #APP */
 1094               	 ;  146 "../../test/testqueues.c" 1
 1095 057c F894      		cli
 1096               	 ;  0 "" 2
 1097               	/* #NOAPP */
 1098 057e 61E0      		ldi r22,lo8(1)
 1099 0580 8091 0000 		lds r24,iq+4
 1100 0584 9091 0000 		lds r25,iq+4+1
 1101 0588 892B      		or r24,r25
 1102 058a 01F0      		breq .L92
 1103 058c 60E0      		ldi r22,0
 1104               	.L92:
 1105 058e 8CE0      		ldi r24,lo8(12)
 1106 0590 90E0      		ldi r25,0
 1107 0592 0E94 0000 		call _test_assert
 1108               	.LVL83:
 1109               	/* #APP */
 1110               	 ;  146 "../../test/testqueues.c" 1
 1111 0596 7894      		sei
 1112               	 ;  0 "" 2
 1113               	/* #NOAPP */
 1114 0598 8111      		cpse r24,__zero_reg__
 1115 059a 00C0      		rjmp .L69
 147:../../test/testqueues.c ****   test_wait_threads();
 1116               		.loc 1 147 0
 1117 059c 0E94 0000 		call test_wait_threads
 1118               	.LVL84:
 150:../../test/testqueues.c ****   test_assert(13, chIQGetTimeout(&iq, 10) == Q_TIMEOUT, "wrong timeout return");
 1119               		.loc 1 150 0
 1120 05a0 6AE0      		ldi r22,lo8(10)
 1121 05a2 70E0      		ldi r23,0
 1122 05a4 80E0      		ldi r24,lo8(iq)
 1123 05a6 90E0      		ldi r25,hi8(iq)
 1124 05a8 0E94 0000 		call chIQGetTimeout
 1125               	.LVL85:
 1126 05ac 61E0      		ldi r22,lo8(1)
 1127 05ae 0196      		adiw r24,1
 1128 05b0 01F0      		breq .L94
 1129 05b2 60E0      		ldi r22,0
 1130               	.L94:
 1131 05b4 8DE0      		ldi r24,lo8(13)
 1132 05b6 90E0      		ldi r25,0
 1133               	/* epilogue start */
 1134               	.LBE16:
 1135               	.LBE15:
 151:../../test/testqueues.c **** }
 1136               		.loc 1 151 0
 1137 05b8 DF91      		pop r29
 1138 05ba CF91      		pop r28
 1139 05bc 1F91      		pop r17
 1140 05be 0F91      		pop r16
 1141               	.LBB18:
 1142               	.LBB17:
 150:../../test/testqueues.c ****   test_assert(13, chIQGetTimeout(&iq, 10) == Q_TIMEOUT, "wrong timeout return");
 1143               		.loc 1 150 0
 1144 05c0 0C94 0000 		jmp _test_assert
 1145               	.LVL86:
 1146               	.L130:
 1147               	.LBE17:
 1148               	.LBE18:
 106:../../test/testqueues.c ****   test_assert_lock(2, chIQIsFullI(&iq), "still has space");
 1149               		.loc 1 106 0 discriminator 1
 1150 05c4 61E0      		ldi r22,lo8(1)
 1151 05c6 8091 0000 		lds r24,iq+4
 1152 05ca 9091 0000 		lds r25,iq+4+1
 1153 05ce 892B      		or r24,r25
 1154 05d0 01F0      		breq .+2
 1155 05d2 00C0      		rjmp .L73
 1156 05d4 00C0      		rjmp .L95
 1157               		.cfi_endproc
 1158               	.LFE10:
 1160               	.global	patternqueues
 1161               		.section	.rodata
 1164               	patternqueues:
 1165 0000 0000      		.word	testqueues1
 1166 0002 0000      		.word	testqueues2
 1167 0004 0000      		.word	0
 1168               	.global	testqueues2
 1169               		.section	.rodata.str1.1
 1170               	.LC1:
 1171 0005 5175 6575 		.string	"Queues, output queues"
 1171      6573 2C20 
 1171      6F75 7470 
 1171      7574 2071 
 1171      7565 7565 
 1172               		.section	.rodata
 1175               	testqueues2:
 1176 0006 0000      		.word	.LC1
 1177 0008 0000      		.word	gs(queues2_setup)
 1178 000a 0000      		.word	0
 1179 000c 0000      		.word	gs(queues2_execute)
 1180               	.global	testqueues1
 1181               		.section	.rodata.str1.1
 1182               	.LC2:
 1183 001b 5175 6575 		.string	"Queues, input queues"
 1183      6573 2C20 
 1183      696E 7075 
 1183      7420 7175 
 1183      6575 6573 
 1184               		.section	.rodata
 1187               	testqueues1:
 1188 000e 0000      		.word	.LC2
 1189 0010 0000      		.word	gs(queues1_setup)
 1190 0012 0000      		.word	0
 1191 0014 0000      		.word	gs(queues1_execute)
 1192               		.data
 1195               	iq:
 1196 0000 0000      		.word	iq
 1197 0002 0000      		.word	iq
 1198 0004 0000      		.word	0
 1199 0006 0000      		.word	test
 1200 0008 0000      		.word	test+4
 1201 000a 0000      		.word	test
 1202 000c 0000      		.word	test
 1203 000e 0000      		.word	gs(notify)
 1204 0010 0000      		.word	0
 1207               	oq:
 1208 0012 0000      		.word	oq
 1209 0014 0000      		.word	oq
 1210 0016 0400      		.word	4
 1211 0018 0000      		.word	test+151
 1212 001a 0000      		.word	test+155
 1213 001c 0000      		.word	test+151
 1214 001e 0000      		.word	test+151
 1215 0020 0000      		.word	gs(notify)
 1216 0022 0000      		.word	0
 1217               		.text
 1218               	.Letext0:
 1219               		.file 2 "/usr/local/cross/lib/gcc/avr/4.7.2/include/stddef.h"
 1220               		.file 3 "/usr/local/cross/lib/gcc/avr/4.7.2/../../../../avr/include/stdint.h"
 1221               		.file 4 "../../os/ports/GCC/AVR/chtypes.h"
 1222               		.file 5 "../../os/kernel/include/chlists.h"
 1223               		.file 6 "../../os/kernel/include/chthreads.h"
 1224               		.file 7 "../../os/ports/GCC/AVR/chcore.h"
 1225               		.file 8 "../../os/kernel/include/chschd.h"
 1226               		.file 9 "../../os/kernel/include/chmtx.h"
 1227               		.file 10 "../../os/kernel/include/chqueues.h"
 1228               		.file 11 "../../test/test.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 testqueues.c
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:4      *ABS*:000000000000003f __SREG__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:12     .text:0000000000000000 notify
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:27     .text:0000000000000002 thread2
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:1207   .data:0000000000000012 oq
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:53     .text:0000000000000016 queues2_setup
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:91     .text:000000000000003c thread1
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:1195   .data:0000000000000000 iq
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:116    .text:000000000000004e queues1_setup
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:158    .text:0000000000000074 queues2_execute
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:643    .text:0000000000000316 queues1_execute
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:1164   .rodata:0000000000000000 patternqueues
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:1187   .rodata:000000000000000e testqueues1
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccPr9xhM.s:1175   .rodata:0000000000000006 testqueues2

UNDEFINED SYMBOLS
chOQPutTimeout
wa
chOQInit
chIQGetTimeout
chIQInit
_test_assert
chOQGetI
test_emit_token
_test_assert_sequence
chOQWriteTimeout
rlist
chThdCreateStatic
threads
test_wait_threads
chOQResetI
chIQPutI
chIQReadTimeout
chIQResetI
test
__do_copy_data
