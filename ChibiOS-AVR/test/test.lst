   1               		.file	"test.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  12               	tmr:
  13               	.LFB21:
  14               		.file 1 "../../test/test.c"
   1:../../test/test.c **** /*
   2:../../test/test.c ****     ChibiOS/RT - Copyright (C) 2006,2007,2008,2009,2010,
   3:../../test/test.c ****                  2011,2012 Giovanni Di Sirio.
   4:../../test/test.c **** 
   5:../../test/test.c ****     This file is part of ChibiOS/RT.
   6:../../test/test.c **** 
   7:../../test/test.c ****     ChibiOS/RT is free software; you can redistribute it and/or modify
   8:../../test/test.c ****     it under the terms of the GNU General Public License as published by
   9:../../test/test.c ****     the Free Software Foundation; either version 3 of the License, or
  10:../../test/test.c ****     (at your option) any later version.
  11:../../test/test.c **** 
  12:../../test/test.c ****     ChibiOS/RT is distributed in the hope that it will be useful,
  13:../../test/test.c ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  14:../../test/test.c ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  15:../../test/test.c ****     GNU General Public License for more details.
  16:../../test/test.c **** 
  17:../../test/test.c ****     You should have received a copy of the GNU General Public License
  18:../../test/test.c ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  19:../../test/test.c **** */
  20:../../test/test.c **** 
  21:../../test/test.c **** /**
  22:../../test/test.c ****  * @file    test.c
  23:../../test/test.c ****  * @brief   Tests support code.
  24:../../test/test.c ****  *
  25:../../test/test.c ****  * @addtogroup test
  26:../../test/test.c ****  * @{
  27:../../test/test.c ****  */
  28:../../test/test.c **** 
  29:../../test/test.c **** #include "ch.h"
  30:../../test/test.c **** #include "hal.h"
  31:../../test/test.c **** 
  32:../../test/test.c **** #include "test.h"
  33:../../test/test.c **** #include "testthd.h"
  34:../../test/test.c **** #include "testsem.h"
  35:../../test/test.c **** #include "testmtx.h"
  36:../../test/test.c **** #include "testmsg.h"
  37:../../test/test.c **** #include "testmbox.h"
  38:../../test/test.c **** #include "testevt.h"
  39:../../test/test.c **** #include "testheap.h"
  40:../../test/test.c **** #include "testpools.h"
  41:../../test/test.c **** #include "testdyn.h"
  42:../../test/test.c **** #include "testqueues.h"
  43:../../test/test.c **** #include "testbmk.h"
  44:../../test/test.c **** 
  45:../../test/test.c **** /*
  46:../../test/test.c ****  * Array of all the test patterns.
  47:../../test/test.c ****  */
  48:../../test/test.c **** static ROMCONST struct testcase * ROMCONST *patterns[] = {
  49:../../test/test.c ****   patternthd,
  50:../../test/test.c ****   patternsem,
  51:../../test/test.c ****   patternmtx,
  52:../../test/test.c ****   patternmsg,
  53:../../test/test.c ****   patternmbox,
  54:../../test/test.c ****   patternevt,
  55:../../test/test.c ****   patternheap,
  56:../../test/test.c ****   patternpools,
  57:../../test/test.c ****   patterndyn,
  58:../../test/test.c ****   patternqueues,
  59:../../test/test.c ****   patternbmk,
  60:../../test/test.c ****   NULL
  61:../../test/test.c **** };
  62:../../test/test.c **** 
  63:../../test/test.c **** static bool_t local_fail, global_fail;
  64:../../test/test.c **** static unsigned failpoint;
  65:../../test/test.c **** static char tokens_buffer[MAX_TOKENS];
  66:../../test/test.c **** static char *tokp;
  67:../../test/test.c **** 
  68:../../test/test.c **** /*
  69:../../test/test.c ****  * Static working areas, the following areas can be used for threads or
  70:../../test/test.c ****  * used as temporary buffers.
  71:../../test/test.c ****  */
  72:../../test/test.c **** union test_buffers test;
  73:../../test/test.c **** 
  74:../../test/test.c **** /*
  75:../../test/test.c ****  * Pointers to the spawned threads.
  76:../../test/test.c ****  */
  77:../../test/test.c **** Thread *threads[MAX_THREADS];
  78:../../test/test.c **** 
  79:../../test/test.c **** /*
  80:../../test/test.c ****  * Pointers to the working areas.
  81:../../test/test.c ****  */
  82:../../test/test.c **** void * ROMCONST wa[5] = {test.wa.T0, test.wa.T1, test.wa.T2,
  83:../../test/test.c ****                          test.wa.T3, test.wa.T4};
  84:../../test/test.c **** 
  85:../../test/test.c **** /*
  86:../../test/test.c ****  * Console output.
  87:../../test/test.c ****  */
  88:../../test/test.c **** static BaseSequentialStream *chp;
  89:../../test/test.c **** 
  90:../../test/test.c **** /**
  91:../../test/test.c ****  * @brief   Prints a decimal unsigned number.
  92:../../test/test.c ****  *
  93:../../test/test.c ****  * @param[in] n         the number to be printed
  94:../../test/test.c ****  */
  95:../../test/test.c **** void test_printn(uint32_t n) {
  96:../../test/test.c ****   char buf[16], *p;
  97:../../test/test.c **** 
  98:../../test/test.c ****   if (!n)
  99:../../test/test.c ****     chSequentialStreamPut(chp, '0');
 100:../../test/test.c ****   else {
 101:../../test/test.c ****     p = buf;
 102:../../test/test.c ****     while (n)
 103:../../test/test.c ****       *p++ = (n % 10) + '0', n /= 10;
 104:../../test/test.c ****     while (p > buf)
 105:../../test/test.c ****       chSequentialStreamPut(chp, *--p);
 106:../../test/test.c ****   }
 107:../../test/test.c **** }
 108:../../test/test.c **** 
 109:../../test/test.c **** /**
 110:../../test/test.c ****  * @brief   Prints a line without final end-of-line.
 111:../../test/test.c ****  *
 112:../../test/test.c ****  * @param[in] msgp      the message
 113:../../test/test.c ****  */
 114:../../test/test.c **** void test_print(const char *msgp) {
 115:../../test/test.c **** 
 116:../../test/test.c ****   while (*msgp)
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 118:../../test/test.c **** }
 119:../../test/test.c **** 
 120:../../test/test.c **** /**
 121:../../test/test.c ****  * @brief   Prints a line.
 122:../../test/test.c ****  *
 123:../../test/test.c ****  * @param[in] msgp      the message
 124:../../test/test.c ****  */
 125:../../test/test.c **** void test_println(const char *msgp) {
 126:../../test/test.c **** 
 127:../../test/test.c ****   test_print(msgp);
 128:../../test/test.c ****   chSequentialStreamWrite(chp, (const uint8_t *)"\r\n", 2);
 129:../../test/test.c **** }
 130:../../test/test.c **** 
 131:../../test/test.c **** /*
 132:../../test/test.c ****  * Tokens.
 133:../../test/test.c ****  */
 134:../../test/test.c **** static void clear_tokens(void) {
 135:../../test/test.c **** 
 136:../../test/test.c ****   tokp = tokens_buffer;
 137:../../test/test.c **** }
 138:../../test/test.c **** 
 139:../../test/test.c **** static void print_tokens(void) {
 140:../../test/test.c ****   char *cp = tokens_buffer;
 141:../../test/test.c **** 
 142:../../test/test.c ****   while (cp < tokp)
 143:../../test/test.c ****     chSequentialStreamPut(chp, *cp++);
 144:../../test/test.c **** }
 145:../../test/test.c **** 
 146:../../test/test.c **** /**
 147:../../test/test.c ****  * @brief   Emits a token into the tokens buffer.
 148:../../test/test.c ****  *
 149:../../test/test.c ****  * @param[in] token     the token as a char
 150:../../test/test.c ****  */
 151:../../test/test.c **** void test_emit_token(char token) {
 152:../../test/test.c **** 
 153:../../test/test.c ****   chSysLock();
 154:../../test/test.c ****   *tokp++ = token;
 155:../../test/test.c ****   chSysUnlock();
 156:../../test/test.c **** }
 157:../../test/test.c **** 
 158:../../test/test.c **** /*
 159:../../test/test.c ****  * Assertions.
 160:../../test/test.c ****  */
 161:../../test/test.c **** bool_t _test_fail(unsigned point) {
 162:../../test/test.c **** 
 163:../../test/test.c ****   local_fail = TRUE;
 164:../../test/test.c ****   global_fail = TRUE;
 165:../../test/test.c ****   failpoint = point;
 166:../../test/test.c ****   return TRUE;
 167:../../test/test.c **** }
 168:../../test/test.c **** 
 169:../../test/test.c **** bool_t _test_assert(unsigned point, bool_t condition) {
 170:../../test/test.c **** 
 171:../../test/test.c ****   if (!condition)
 172:../../test/test.c ****     return _test_fail(point);
 173:../../test/test.c ****   return FALSE;
 174:../../test/test.c **** }
 175:../../test/test.c **** 
 176:../../test/test.c **** bool_t _test_assert_sequence(unsigned point, char *expected) {
 177:../../test/test.c ****   char *cp = tokens_buffer;
 178:../../test/test.c ****   while (cp < tokp) {
 179:../../test/test.c ****     if (*cp++ != *expected++)
 180:../../test/test.c ****      return _test_fail(point);
 181:../../test/test.c ****   }
 182:../../test/test.c ****   if (*expected)
 183:../../test/test.c ****     return _test_fail(point);
 184:../../test/test.c ****   clear_tokens();
 185:../../test/test.c ****   return FALSE;
 186:../../test/test.c **** }
 187:../../test/test.c **** 
 188:../../test/test.c **** bool_t _test_assert_time_window(unsigned point, systime_t start, systime_t end) {
 189:../../test/test.c **** 
 190:../../test/test.c ****   return _test_assert(point, chTimeIsWithin(start, end));
 191:../../test/test.c **** }
 192:../../test/test.c **** 
 193:../../test/test.c **** /*
 194:../../test/test.c ****  * Threads utils.
 195:../../test/test.c ****  */
 196:../../test/test.c **** 
 197:../../test/test.c **** /**
 198:../../test/test.c ****  * @brief   Sets a termination request in all the test-spawned threads.
 199:../../test/test.c ****  */
 200:../../test/test.c **** void test_terminate_threads(void) {
 201:../../test/test.c ****   int i;
 202:../../test/test.c **** 
 203:../../test/test.c ****   for (i = 0; i < MAX_THREADS; i++)
 204:../../test/test.c ****     if (threads[i])
 205:../../test/test.c ****       chThdTerminate(threads[i]);
 206:../../test/test.c **** }
 207:../../test/test.c **** 
 208:../../test/test.c **** /**
 209:../../test/test.c ****  * @brief   Waits for the completion of all the test-spawned threads.
 210:../../test/test.c ****  */
 211:../../test/test.c **** void test_wait_threads(void) {
 212:../../test/test.c ****   int i;
 213:../../test/test.c **** 
 214:../../test/test.c ****   for (i = 0; i < MAX_THREADS; i++)
 215:../../test/test.c ****     if (threads[i] != NULL) {
 216:../../test/test.c ****       chThdWait(threads[i]);
 217:../../test/test.c ****       threads[i] = NULL;
 218:../../test/test.c ****     }
 219:../../test/test.c **** }
 220:../../test/test.c **** 
 221:../../test/test.c **** #if CH_DBG_THREADS_PROFILING
 222:../../test/test.c **** /**
 223:../../test/test.c ****  * @brief   CPU pulse.
 224:../../test/test.c ****  * @note    The current implementation is not totally reliable.
 225:../../test/test.c ****  *
 226:../../test/test.c ****  * @param[in] duration      CPU pulse duration in milliseconds
 227:../../test/test.c ****  */
 228:../../test/test.c **** void test_cpu_pulse(unsigned duration) {
 229:../../test/test.c ****   systime_t start, end, now;
 230:../../test/test.c **** 
 231:../../test/test.c ****   start = chThdSelf()->p_time;
 232:../../test/test.c ****   end = start + MS2ST(duration);
 233:../../test/test.c ****   do {
 234:../../test/test.c ****     now = chThdSelf()->p_time;
 235:../../test/test.c **** #if defined(SIMULATOR)
 236:../../test/test.c ****     ChkIntSources();
 237:../../test/test.c **** #endif
 238:../../test/test.c ****   }
 239:../../test/test.c ****   while (end > start ? (now >= start) && (now < end) :
 240:../../test/test.c ****                        (now >= start) || (now < end));
 241:../../test/test.c **** }
 242:../../test/test.c **** #endif
 243:../../test/test.c **** 
 244:../../test/test.c **** /**
 245:../../test/test.c ****  * @brief   Delays execution until next system time tick.
 246:../../test/test.c ****  *
 247:../../test/test.c ****  * @return              The system time.
 248:../../test/test.c ****  */
 249:../../test/test.c **** systime_t test_wait_tick(void) {
 250:../../test/test.c **** 
 251:../../test/test.c ****   chThdSleep(1);
 252:../../test/test.c ****   return chTimeNow();
 253:../../test/test.c **** }
 254:../../test/test.c **** 
 255:../../test/test.c **** /*
 256:../../test/test.c ****  * Timer utils.
 257:../../test/test.c ****  */
 258:../../test/test.c **** 
 259:../../test/test.c **** /**
 260:../../test/test.c ****  * @brief   Set to @p TRUE when the test timer reaches its deadline.
 261:../../test/test.c ****  */
 262:../../test/test.c **** bool_t test_timer_done;
 263:../../test/test.c **** 
 264:../../test/test.c **** static VirtualTimer vt;
 265:../../test/test.c **** static void tmr(void *p) {
  15               		.loc 1 265 0
  16               		.cfi_startproc
  17               	.LVL0:
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
 266:../../test/test.c ****   (void)p;
 267:../../test/test.c **** 
 268:../../test/test.c ****   test_timer_done = TRUE;
  22               		.loc 1 268 0
  23 0000 81E0      		ldi r24,lo8(1)
  24               	.LVL1:
  25 0002 8093 0000 		sts test_timer_done,r24
  26 0006 0895      		ret
  27               		.cfi_endproc
  28               	.LFE21:
  30               		.section	.rodata.str1.1,"aMS",@progbits,1
  31               	.LC0:
  32 0000 0D0A 00   		.string	"\r\n"
  33               		.text
  35               	print_line:
  36               	.LFB24:
 269:../../test/test.c **** }
 270:../../test/test.c **** 
 271:../../test/test.c **** /**
 272:../../test/test.c ****  * @brief   Starts the test timer.
 273:../../test/test.c ****  *
 274:../../test/test.c ****  * @param[in] ms        time in milliseconds
 275:../../test/test.c ****  */
 276:../../test/test.c **** void test_start_timer(unsigned ms) {
 277:../../test/test.c **** 
 278:../../test/test.c ****   systime_t duration = MS2ST(ms);
 279:../../test/test.c ****   test_timer_done = FALSE;
 280:../../test/test.c ****   chVTSet(&vt, duration, tmr, NULL);
 281:../../test/test.c **** }
 282:../../test/test.c **** 
 283:../../test/test.c **** /*
 284:../../test/test.c ****  * Test suite execution.
 285:../../test/test.c ****  */
 286:../../test/test.c **** static void execute_test(const struct testcase *tcp) {
 287:../../test/test.c ****   int i;
 288:../../test/test.c **** 
 289:../../test/test.c ****   /* Initialization */
 290:../../test/test.c ****   clear_tokens();
 291:../../test/test.c ****   local_fail = FALSE;
 292:../../test/test.c ****   for (i = 0; i < MAX_THREADS; i++)
 293:../../test/test.c ****     threads[i] = NULL;
 294:../../test/test.c **** 
 295:../../test/test.c ****   if (tcp->setup != NULL)
 296:../../test/test.c ****     tcp->setup();
 297:../../test/test.c ****   tcp->execute();
 298:../../test/test.c ****   if (tcp->teardown != NULL)
 299:../../test/test.c ****     tcp->teardown();
 300:../../test/test.c **** 
 301:../../test/test.c ****   test_wait_threads();
 302:../../test/test.c **** }
 303:../../test/test.c **** 
 304:../../test/test.c **** static void print_line(void) {
  37               		.loc 1 304 0
  38               		.cfi_startproc
  39 0008 CF93      		push r28
  40               	.LCFI0:
  41               		.cfi_def_cfa_offset 3
  42               		.cfi_offset 28, -2
  43 000a DF93      		push r29
  44               	.LCFI1:
  45               		.cfi_def_cfa_offset 4
  46               		.cfi_offset 29, -3
  47               	/* prologue: function */
  48               	/* frame size = 0 */
  49               	/* stack size = 2 */
  50               	.L__stack_usage = 2
  51               	.LVL2:
  52               		.loc 1 304 0
  53 000c CCE4      		ldi r28,lo8(76)
  54 000e D0E0      		ldi r29,0
  55               	.LVL3:
  56               	.L3:
 305:../../test/test.c ****   unsigned i;
 306:../../test/test.c **** 
 307:../../test/test.c ****   for (i = 0; i < 76; i++)
 308:../../test/test.c ****     chSequentialStreamPut(chp, '-');
  57               		.loc 1 308 0 discriminator 2
  58 0010 8091 0000 		lds r24,chp
  59 0014 9091 0000 		lds r25,chp+1
  60 0018 DC01      		movw r26,r24
  61 001a ED91      		ld r30,X+
  62 001c FC91      		ld r31,X
  63 001e 0480      		ldd __tmp_reg__,Z+4
  64 0020 F581      		ldd r31,Z+5
  65 0022 E02D      		mov r30,__tmp_reg__
  66 0024 6DE2      		ldi r22,lo8(45)
  67 0026 0995      		icall
  68               	.LVL4:
  69 0028 2197      		sbiw r28,1
 307:../../test/test.c ****   for (i = 0; i < 76; i++)
  70               		.loc 1 307 0 discriminator 2
  71 002a 01F4      		brne .L3
 309:../../test/test.c ****   chSequentialStreamWrite(chp, (const uint8_t *)"\r\n", 2);
  72               		.loc 1 309 0
  73 002c 8091 0000 		lds r24,chp
  74 0030 9091 0000 		lds r25,chp+1
  75 0034 DC01      		movw r26,r24
  76 0036 ED91      		ld r30,X+
  77 0038 FC91      		ld r31,X
  78 003a 0190      		ld __tmp_reg__,Z+
  79 003c F081      		ld r31,Z
  80 003e E02D      		mov r30,__tmp_reg__
  81 0040 42E0      		ldi r20,lo8(2)
  82 0042 50E0      		ldi r21,0
  83 0044 60E0      		ldi r22,lo8(.LC0)
  84 0046 70E0      		ldi r23,hi8(.LC0)
  85               	/* epilogue start */
 310:../../test/test.c **** }
  86               		.loc 1 310 0
  87 0048 DF91      		pop r29
  88 004a CF91      		pop r28
 309:../../test/test.c ****   chSequentialStreamWrite(chp, (const uint8_t *)"\r\n", 2);
  89               		.loc 1 309 0
  90 004c 0994      		ijmp
  91               	.LVL5:
  92               		.cfi_endproc
  93               	.LFE24:
  95               	.global	test_printn
  97               	test_printn:
  98               	.LFB7:
  95:../../test/test.c **** void test_printn(uint32_t n) {
  99               		.loc 1 95 0
 100               		.cfi_startproc
 101               	.LVL6:
 102 004e 8F92      		push r8
 103               	.LCFI2:
 104               		.cfi_def_cfa_offset 3
 105               		.cfi_offset 8, -2
 106 0050 9F92      		push r9
 107               	.LCFI3:
 108               		.cfi_def_cfa_offset 4
 109               		.cfi_offset 9, -3
 110 0052 AF92      		push r10
 111               	.LCFI4:
 112               		.cfi_def_cfa_offset 5
 113               		.cfi_offset 10, -4
 114 0054 BF92      		push r11
 115               	.LCFI5:
 116               		.cfi_def_cfa_offset 6
 117               		.cfi_offset 11, -5
 118 0056 EF92      		push r14
 119               	.LCFI6:
 120               		.cfi_def_cfa_offset 7
 121               		.cfi_offset 14, -6
 122 0058 FF92      		push r15
 123               	.LCFI7:
 124               		.cfi_def_cfa_offset 8
 125               		.cfi_offset 15, -7
 126 005a 0F93      		push r16
 127               	.LCFI8:
 128               		.cfi_def_cfa_offset 9
 129               		.cfi_offset 16, -8
 130 005c 1F93      		push r17
 131               	.LCFI9:
 132               		.cfi_def_cfa_offset 10
 133               		.cfi_offset 17, -9
 134 005e CF93      		push r28
 135               	.LCFI10:
 136               		.cfi_def_cfa_offset 11
 137               		.cfi_offset 28, -10
 138 0060 DF93      		push r29
 139               	.LCFI11:
 140               		.cfi_def_cfa_offset 12
 141               		.cfi_offset 29, -11
 142 0062 CDB7      		in r28,__SP_L__
 143 0064 DEB7      		in r29,__SP_H__
 144               	.LCFI12:
 145               		.cfi_def_cfa_register 28
 146 0066 6097      		sbiw r28,16
 147               	.LCFI13:
 148               		.cfi_def_cfa_offset 28
 149 0068 0FB6      		in __tmp_reg__,__SREG__
 150 006a F894      		cli
 151 006c DEBF      		out __SP_H__,r29
 152 006e 0FBE      		out __SREG__,__tmp_reg__
 153 0070 CDBF      		out __SP_L__,r28
 154               	/* prologue: function */
 155               	/* frame size = 16 */
 156               	/* stack size = 26 */
 157               	.L__stack_usage = 26
  98:../../test/test.c ****   if (!n)
 158               		.loc 1 98 0
 159 0072 6115      		cp r22,__zero_reg__
 160 0074 7105      		cpc r23,__zero_reg__
 161 0076 8105      		cpc r24,__zero_reg__
 162 0078 9105      		cpc r25,__zero_reg__
 163 007a 01F4      		brne .+2
 164 007c 00C0      		rjmp .L14
 165 007e EE24      		clr r14
 166 0080 E394      		inc r14
 167 0082 F12C      		mov r15,__zero_reg__
 168 0084 EC0E      		add r14,r28
 169 0086 FD1E      		adc r15,r29
 170 0088 8701      		movw r16,r14
 103:../../test/test.c ****       *p++ = (n % 10) + '0', n /= 10;
 171               		.loc 1 103 0
 172 008a 3AE0      		ldi r19,lo8(10)
 173 008c 832E      		mov r8,r19
 174 008e 912C      		mov r9,__zero_reg__
 175 0090 A12C      		mov r10,__zero_reg__
 176 0092 B12C      		mov r11,__zero_reg__
 177               	.L8:
 178 0094 A501      		movw r20,r10
 179 0096 9401      		movw r18,r8
 180 0098 0E94 0000 		call __udivmodsi4
 181               	.LVL7:
 182 009c A62F      		mov r26,r22
 183 009e A05D      		subi r26,lo8(-(48))
 184 00a0 F801      		movw r30,r16
 185 00a2 A193      		st Z+,r26
 186 00a4 8F01      		movw r16,r30
 187               	.LVL8:
 188 00a6 B901      		movw r22,r18
 189 00a8 CA01      		movw r24,r20
 190               	.LVL9:
 102:../../test/test.c ****     while (n)
 191               		.loc 1 102 0
 192 00aa 6115      		cp r22,__zero_reg__
 193 00ac 7105      		cpc r23,__zero_reg__
 194 00ae 8105      		cpc r24,__zero_reg__
 195 00b0 9105      		cpc r25,__zero_reg__
 196 00b2 01F4      		brne .L8
 104:../../test/test.c ****     while (p > buf)
 197               		.loc 1 104 0 discriminator 1
 198 00b4 EE16      		cp r14,r30
 199 00b6 FF06      		cpc r15,r31
 200 00b8 00F4      		brsh .L6
  95:../../test/test.c **** void test_printn(uint32_t n) {
 201               		.loc 1 95 0
 202 00ba 0150      		subi r16,1
 203 00bc 1109      		sbc r17,__zero_reg__
 204               	.LVL10:
 205 00be 00C0      		rjmp .L12
 206               	.LVL11:
 207               	.L15:
 208 00c0 F801      		movw r30,r16
 209 00c2 A291      		ld r26,-Z
 210 00c4 8F01      		movw r16,r30
 211               	.L12:
 105:../../test/test.c ****       chSequentialStreamPut(chp, *--p);
 212               		.loc 1 105 0
 213 00c6 8091 0000 		lds r24,chp
 214 00ca 9091 0000 		lds r25,chp+1
 215 00ce FC01      		movw r30,r24
 216 00d0 2081      		ld r18,Z
 217 00d2 3181      		ldd r19,Z+1
 218 00d4 F901      		movw r30,r18
 219 00d6 2481      		ldd r18,Z+4
 220 00d8 3581      		ldd r19,Z+5
 221 00da 6A2F      		mov r22,r26
 222 00dc F901      		movw r30,r18
 223 00de 0995      		icall
 224               	.LVL12:
 104:../../test/test.c ****     while (p > buf)
 225               		.loc 1 104 0
 226 00e0 0E15      		cp r16,r14
 227 00e2 1F05      		cpc r17,r15
 228 00e4 01F4      		brne .L15
 229               	.L6:
 230               	/* epilogue start */
 107:../../test/test.c **** }
 231               		.loc 1 107 0
 232 00e6 6096      		adiw r28,16
 233 00e8 0FB6      		in __tmp_reg__,__SREG__
 234 00ea F894      		cli
 235 00ec DEBF      		out __SP_H__,r29
 236 00ee 0FBE      		out __SREG__,__tmp_reg__
 237 00f0 CDBF      		out __SP_L__,r28
 238 00f2 DF91      		pop r29
 239 00f4 CF91      		pop r28
 240 00f6 1F91      		pop r17
 241 00f8 0F91      		pop r16
 242 00fa FF90      		pop r15
 243 00fc EF90      		pop r14
 244 00fe BF90      		pop r11
 245 0100 AF90      		pop r10
 246 0102 9F90      		pop r9
 247 0104 8F90      		pop r8
 248 0106 0895      		ret
 249               	.LVL13:
 250               	.L14:
 251               	.LBB50:
 252               	.LBB51:
  99:../../test/test.c ****     chSequentialStreamPut(chp, '0');
 253               		.loc 1 99 0
 254 0108 8091 0000 		lds r24,chp
 255 010c 9091 0000 		lds r25,chp+1
 256 0110 DC01      		movw r26,r24
 257 0112 ED91      		ld r30,X+
 258 0114 FC91      		ld r31,X
 259 0116 0480      		ldd __tmp_reg__,Z+4
 260 0118 F581      		ldd r31,Z+5
 261 011a E02D      		mov r30,__tmp_reg__
 262 011c 60E3      		ldi r22,lo8(48)
 263               	.LVL14:
 264               	/* epilogue start */
 265               	.LBE51:
 266               	.LBE50:
 107:../../test/test.c **** }
 267               		.loc 1 107 0
 268 011e 6096      		adiw r28,16
 269 0120 0FB6      		in __tmp_reg__,__SREG__
 270 0122 F894      		cli
 271 0124 DEBF      		out __SP_H__,r29
 272 0126 0FBE      		out __SREG__,__tmp_reg__
 273 0128 CDBF      		out __SP_L__,r28
 274 012a DF91      		pop r29
 275 012c CF91      		pop r28
 276 012e 1F91      		pop r17
 277 0130 0F91      		pop r16
 278 0132 FF90      		pop r15
 279 0134 EF90      		pop r14
 280 0136 BF90      		pop r11
 281 0138 AF90      		pop r10
 282 013a 9F90      		pop r9
 283 013c 8F90      		pop r8
 284               	.LBB53:
 285               	.LBB52:
  99:../../test/test.c ****     chSequentialStreamPut(chp, '0');
 286               		.loc 1 99 0
 287 013e 0994      		ijmp
 288               	.LVL15:
 289               	.LBE52:
 290               	.LBE53:
 291               		.cfi_endproc
 292               	.LFE7:
 294               	.global	test_print
 296               	test_print:
 297               	.LFB8:
 114:../../test/test.c **** void test_print(const char *msgp) {
 298               		.loc 1 114 0
 299               		.cfi_startproc
 300               	.LVL16:
 301 0140 CF93      		push r28
 302               	.LCFI14:
 303               		.cfi_def_cfa_offset 3
 304               		.cfi_offset 28, -2
 305 0142 DF93      		push r29
 306               	.LCFI15:
 307               		.cfi_def_cfa_offset 4
 308               		.cfi_offset 29, -3
 309               	/* prologue: function */
 310               	/* frame size = 0 */
 311               	/* stack size = 2 */
 312               	.L__stack_usage = 2
 116:../../test/test.c ****   while (*msgp)
 313               		.loc 1 116 0
 314 0144 DC01      		movw r26,r24
 315 0146 6C91      		ld r22,X
 316 0148 6623      		tst r22
 317 014a 01F0      		breq .L16
 114:../../test/test.c **** void test_print(const char *msgp) {
 318               		.loc 1 114 0
 319 014c EC01      		movw r28,r24
 320 014e 2196      		adiw r28,1
 321               	.LVL17:
 322               	.L18:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 323               		.loc 1 117 0
 324 0150 8091 0000 		lds r24,chp
 325 0154 9091 0000 		lds r25,chp+1
 326 0158 DC01      		movw r26,r24
 327 015a ED91      		ld r30,X+
 328 015c FC91      		ld r31,X
 329 015e 0480      		ldd __tmp_reg__,Z+4
 330 0160 F581      		ldd r31,Z+5
 331 0162 E02D      		mov r30,__tmp_reg__
 332 0164 0995      		icall
 333               	.LVL18:
 116:../../test/test.c ****   while (*msgp)
 334               		.loc 1 116 0
 335 0166 6991      		ld r22,Y+
 336 0168 6111      		cpse r22,__zero_reg__
 337 016a 00C0      		rjmp .L18
 338               	.L16:
 339               	/* epilogue start */
 118:../../test/test.c **** }
 340               		.loc 1 118 0
 341 016c DF91      		pop r29
 342 016e CF91      		pop r28
 343 0170 0895      		ret
 344               		.cfi_endproc
 345               	.LFE8:
 347               	.global	test_println
 349               	test_println:
 350               	.LFB9:
 125:../../test/test.c **** void test_println(const char *msgp) {
 351               		.loc 1 125 0
 352               		.cfi_startproc
 353               	.LVL19:
 354 0172 CF93      		push r28
 355               	.LCFI16:
 356               		.cfi_def_cfa_offset 3
 357               		.cfi_offset 28, -2
 358 0174 DF93      		push r29
 359               	.LCFI17:
 360               		.cfi_def_cfa_offset 4
 361               		.cfi_offset 29, -3
 362               	/* prologue: function */
 363               	/* frame size = 0 */
 364               	/* stack size = 2 */
 365               	.L__stack_usage = 2
 366               	.LVL20:
 367               	.LBB54:
 368               	.LBB55:
 116:../../test/test.c ****   while (*msgp)
 369               		.loc 1 116 0
 370 0176 DC01      		movw r26,r24
 371 0178 6C91      		ld r22,X
 372 017a 6623      		tst r22
 373 017c 01F0      		breq .L24
 374               	.LBE55:
 375               	.LBE54:
 125:../../test/test.c **** void test_println(const char *msgp) {
 376               		.loc 1 125 0
 377 017e EC01      		movw r28,r24
 378 0180 2196      		adiw r28,1
 379               	.LVL21:
 380               	.L23:
 381               	.LBB57:
 382               	.LBB56:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 383               		.loc 1 117 0
 384 0182 8091 0000 		lds r24,chp
 385 0186 9091 0000 		lds r25,chp+1
 386 018a DC01      		movw r26,r24
 387 018c ED91      		ld r30,X+
 388 018e FC91      		ld r31,X
 389 0190 0480      		ldd __tmp_reg__,Z+4
 390 0192 F581      		ldd r31,Z+5
 391 0194 E02D      		mov r30,__tmp_reg__
 392 0196 0995      		icall
 393               	.LVL22:
 116:../../test/test.c ****   while (*msgp)
 394               		.loc 1 116 0
 395 0198 6991      		ld r22,Y+
 396 019a 6111      		cpse r22,__zero_reg__
 397 019c 00C0      		rjmp .L23
 398               	.L24:
 399               	.LBE56:
 400               	.LBE57:
 128:../../test/test.c ****   chSequentialStreamWrite(chp, (const uint8_t *)"\r\n", 2);
 401               		.loc 1 128 0
 402 019e 8091 0000 		lds r24,chp
 403 01a2 9091 0000 		lds r25,chp+1
 404 01a6 DC01      		movw r26,r24
 405 01a8 ED91      		ld r30,X+
 406 01aa FC91      		ld r31,X
 407 01ac 0190      		ld __tmp_reg__,Z+
 408 01ae F081      		ld r31,Z
 409 01b0 E02D      		mov r30,__tmp_reg__
 410 01b2 42E0      		ldi r20,lo8(2)
 411 01b4 50E0      		ldi r21,0
 412 01b6 60E0      		ldi r22,lo8(.LC0)
 413 01b8 70E0      		ldi r23,hi8(.LC0)
 414               	/* epilogue start */
 129:../../test/test.c **** }
 415               		.loc 1 129 0
 416 01ba DF91      		pop r29
 417 01bc CF91      		pop r28
 128:../../test/test.c ****   chSequentialStreamWrite(chp, (const uint8_t *)"\r\n", 2);
 418               		.loc 1 128 0
 419 01be 0994      		ijmp
 420               	.LVL23:
 421               		.cfi_endproc
 422               	.LFE9:
 424               	.global	test_emit_token
 426               	test_emit_token:
 427               	.LFB12:
 151:../../test/test.c **** void test_emit_token(char token) {
 428               		.loc 1 151 0
 429               		.cfi_startproc
 430               	.LVL24:
 431               	/* prologue: function */
 432               	/* frame size = 0 */
 433               	/* stack size = 0 */
 434               	.L__stack_usage = 0
 153:../../test/test.c ****   chSysLock();
 435               		.loc 1 153 0
 436               	/* #APP */
 437               	 ;  153 "../../test/test.c" 1
 438 01c0 F894      		cli
 439               	 ;  0 "" 2
 154:../../test/test.c ****   *tokp++ = token;
 440               		.loc 1 154 0
 441               	/* #NOAPP */
 442 01c2 E091 0000 		lds r30,tokp
 443 01c6 F091 0000 		lds r31,tokp+1
 444 01ca 8193      		st Z+,r24
 445 01cc F093 0000 		sts tokp+1,r31
 446 01d0 E093 0000 		sts tokp,r30
 155:../../test/test.c ****   chSysUnlock();
 447               		.loc 1 155 0
 448               	/* #APP */
 449               	 ;  155 "../../test/test.c" 1
 450 01d4 7894      		sei
 451               	 ;  0 "" 2
 452               	/* #NOAPP */
 453 01d6 0895      		ret
 454               		.cfi_endproc
 455               	.LFE12:
 457               	.global	_test_fail
 459               	_test_fail:
 460               	.LFB13:
 161:../../test/test.c **** bool_t _test_fail(unsigned point) {
 461               		.loc 1 161 0
 462               		.cfi_startproc
 463               	.LVL25:
 464               	/* prologue: function */
 465               	/* frame size = 0 */
 466               	/* stack size = 0 */
 467               	.L__stack_usage = 0
 163:../../test/test.c ****   local_fail = TRUE;
 468               		.loc 1 163 0
 469 01d8 21E0      		ldi r18,lo8(1)
 470 01da 2093 0000 		sts local_fail,r18
 164:../../test/test.c ****   global_fail = TRUE;
 471               		.loc 1 164 0
 472 01de 2093 0000 		sts global_fail,r18
 165:../../test/test.c ****   failpoint = point;
 473               		.loc 1 165 0
 474 01e2 9093 0000 		sts failpoint+1,r25
 475 01e6 8093 0000 		sts failpoint,r24
 167:../../test/test.c **** }
 476               		.loc 1 167 0
 477 01ea 81E0      		ldi r24,lo8(1)
 478               	.LVL26:
 479 01ec 0895      		ret
 480               		.cfi_endproc
 481               	.LFE13:
 483               	.global	_test_assert
 485               	_test_assert:
 486               	.LFB14:
 169:../../test/test.c **** bool_t _test_assert(unsigned point, bool_t condition) {
 487               		.loc 1 169 0
 488               		.cfi_startproc
 489               	.LVL27:
 490               	/* prologue: function */
 491               	/* frame size = 0 */
 492               	/* stack size = 0 */
 493               	.L__stack_usage = 0
 171:../../test/test.c ****   if (!condition)
 494               		.loc 1 171 0
 495 01ee 6111      		cpse r22,__zero_reg__
 496 01f0 00C0      		rjmp .L30
 497               	.LVL28:
 498               	.LBB58:
 499               	.LBB59:
 163:../../test/test.c ****   local_fail = TRUE;
 500               		.loc 1 163 0
 501 01f2 21E0      		ldi r18,lo8(1)
 502 01f4 2093 0000 		sts local_fail,r18
 164:../../test/test.c ****   global_fail = TRUE;
 503               		.loc 1 164 0
 504 01f8 2093 0000 		sts global_fail,r18
 165:../../test/test.c ****   failpoint = point;
 505               		.loc 1 165 0
 506 01fc 9093 0000 		sts failpoint+1,r25
 507 0200 8093 0000 		sts failpoint,r24
 508               	.LBE59:
 509               	.LBE58:
 172:../../test/test.c ****     return _test_fail(point);
 510               		.loc 1 172 0
 511 0204 81E0      		ldi r24,lo8(1)
 512               	.LVL29:
 513 0206 0895      		ret
 514               	.LVL30:
 515               	.L30:
 173:../../test/test.c ****   return FALSE;
 516               		.loc 1 173 0
 517 0208 80E0      		ldi r24,0
 518               	.LVL31:
 174:../../test/test.c **** }
 519               		.loc 1 174 0
 520 020a 0895      		ret
 521               		.cfi_endproc
 522               	.LFE14:
 524               	.global	_test_assert_sequence
 526               	_test_assert_sequence:
 527               	.LFB15:
 176:../../test/test.c **** bool_t _test_assert_sequence(unsigned point, char *expected) {
 528               		.loc 1 176 0
 529               		.cfi_startproc
 530               	.LVL32:
 531               	/* prologue: function */
 532               	/* frame size = 0 */
 533               	/* stack size = 0 */
 534               	.L__stack_usage = 0
 535 020c FB01      		movw r30,r22
 536               	.LVL33:
 537 020e 4091 0000 		lds r20,tokp
 538 0212 5091 0000 		lds r21,tokp+1
 539 0216 20E0      		ldi r18,lo8(tokens_buffer)
 540 0218 30E0      		ldi r19,hi8(tokens_buffer)
 178:../../test/test.c ****   while (cp < tokp) {
 541               		.loc 1 178 0
 542 021a 00C0      		rjmp .L32
 543               	.LVL34:
 544               	.L34:
 545 021c 2F5F      		subi r18,-1
 546 021e 3F4F      		sbci r19,-1
 179:../../test/test.c ****     if (*cp++ != *expected++)
 547               		.loc 1 179 0
 548 0220 6191      		ld r22,Z+
 549               	.LVL35:
 550 0222 7C91      		ld r23,X
 551 0224 7613      		cpse r23,r22
 552 0226 00C0      		rjmp .L37
 553               	.L32:
 554 0228 D901      		movw r26,r18
 178:../../test/test.c ****   while (cp < tokp) {
 555               		.loc 1 178 0 discriminator 1
 556 022a 2417      		cp r18,r20
 557 022c 3507      		cpc r19,r21
 558 022e 00F0      		brlo .L34
 182:../../test/test.c ****   if (*expected)
 559               		.loc 1 182 0
 560 0230 2081      		ld r18,Z
 561 0232 2111      		cpse r18,__zero_reg__
 562 0234 00C0      		rjmp .L37
 563               	.LBB60:
 564               	.LBB61:
 136:../../test/test.c ****   tokp = tokens_buffer;
 565               		.loc 1 136 0
 566 0236 80E0      		ldi r24,lo8(tokens_buffer)
 567 0238 90E0      		ldi r25,hi8(tokens_buffer)
 568               	.LVL36:
 569 023a 9093 0000 		sts tokp+1,r25
 570 023e 8093 0000 		sts tokp,r24
 571               	.LBE61:
 572               	.LBE60:
 185:../../test/test.c ****   return FALSE;
 573               		.loc 1 185 0
 574 0242 80E0      		ldi r24,0
 186:../../test/test.c **** }
 575               		.loc 1 186 0
 576 0244 0895      		ret
 577               	.LVL37:
 578               	.L37:
 579               	.LBB62:
 580               	.LBB63:
 163:../../test/test.c ****   local_fail = TRUE;
 581               		.loc 1 163 0
 582 0246 21E0      		ldi r18,lo8(1)
 583 0248 2093 0000 		sts local_fail,r18
 164:../../test/test.c ****   global_fail = TRUE;
 584               		.loc 1 164 0
 585 024c 2093 0000 		sts global_fail,r18
 165:../../test/test.c ****   failpoint = point;
 586               		.loc 1 165 0
 587 0250 9093 0000 		sts failpoint+1,r25
 588 0254 8093 0000 		sts failpoint,r24
 589               	.LBE63:
 590               	.LBE62:
 183:../../test/test.c ****     return _test_fail(point);
 591               		.loc 1 183 0
 592 0258 81E0      		ldi r24,lo8(1)
 593               	.LVL38:
 594 025a 0895      		ret
 595               		.cfi_endproc
 596               	.LFE15:
 598               	.global	_test_assert_time_window
 600               	_test_assert_time_window:
 601               	.LFB16:
 188:../../test/test.c **** bool_t _test_assert_time_window(unsigned point, systime_t start, systime_t end) {
 602               		.loc 1 188 0
 603               		.cfi_startproc
 604               	.LVL39:
 605 025c CF93      		push r28
 606               	.LCFI18:
 607               		.cfi_def_cfa_offset 3
 608               		.cfi_offset 28, -2
 609 025e DF93      		push r29
 610               	.LCFI19:
 611               		.cfi_def_cfa_offset 4
 612               		.cfi_offset 29, -3
 613               	/* prologue: function */
 614               	/* frame size = 0 */
 615               	/* stack size = 2 */
 616               	.L__stack_usage = 2
 617 0260 EC01      		movw r28,r24
 618 0262 CB01      		movw r24,r22
 619               	.LVL40:
 190:../../test/test.c ****   return _test_assert(point, chTimeIsWithin(start, end));
 620               		.loc 1 190 0
 621 0264 BA01      		movw r22,r20
 622               	.LVL41:
 623 0266 0E94 0000 		call chTimeIsWithin
 624               	.LVL42:
 625               	.LBB64:
 626               	.LBB65:
 171:../../test/test.c ****   if (!condition)
 627               		.loc 1 171 0
 628 026a 8111      		cpse r24,__zero_reg__
 629 026c 00C0      		rjmp .L40
 630               	.LVL43:
 631               	.LBB66:
 632               	.LBB67:
 163:../../test/test.c ****   local_fail = TRUE;
 633               		.loc 1 163 0
 634 026e 81E0      		ldi r24,lo8(1)
 635               	.LVL44:
 636 0270 8093 0000 		sts local_fail,r24
 164:../../test/test.c ****   global_fail = TRUE;
 637               		.loc 1 164 0
 638 0274 8093 0000 		sts global_fail,r24
 165:../../test/test.c ****   failpoint = point;
 639               		.loc 1 165 0
 640 0278 D093 0000 		sts failpoint+1,r29
 641 027c C093 0000 		sts failpoint,r28
 642               	/* epilogue start */
 643               	.LBE67:
 644               	.LBE66:
 645               	.LBE65:
 646               	.LBE64:
 191:../../test/test.c **** }
 647               		.loc 1 191 0
 648 0280 DF91      		pop r29
 649 0282 CF91      		pop r28
 650               	.LVL45:
 651 0284 0895      		ret
 652               	.LVL46:
 653               	.L40:
 654               	.LBB69:
 655               	.LBB68:
 173:../../test/test.c ****   return FALSE;
 656               		.loc 1 173 0
 657 0286 80E0      		ldi r24,0
 658               	.LVL47:
 659               	/* epilogue start */
 660               	.LBE68:
 661               	.LBE69:
 191:../../test/test.c **** }
 662               		.loc 1 191 0
 663 0288 DF91      		pop r29
 664 028a CF91      		pop r28
 665               	.LVL48:
 666 028c 0895      		ret
 667               		.cfi_endproc
 668               	.LFE16:
 670               	.global	test_terminate_threads
 672               	test_terminate_threads:
 673               	.LFB17:
 200:../../test/test.c **** void test_terminate_threads(void) {
 674               		.loc 1 200 0
 675               		.cfi_startproc
 676 028e CF93      		push r28
 677               	.LCFI20:
 678               		.cfi_def_cfa_offset 3
 679               		.cfi_offset 28, -2
 680 0290 DF93      		push r29
 681               	.LCFI21:
 682               		.cfi_def_cfa_offset 4
 683               		.cfi_offset 29, -3
 684               	/* prologue: function */
 685               	/* frame size = 0 */
 686               	/* stack size = 2 */
 687               	.L__stack_usage = 2
 688               	.LVL49:
 689 0292 C0E0      		ldi r28,lo8(threads)
 690 0294 D0E0      		ldi r29,hi8(threads)
 691               	.LVL50:
 692               	.L43:
 204:../../test/test.c ****     if (threads[i])
 693               		.loc 1 204 0
 694 0296 8991      		ld r24,Y+
 695 0298 9991      		ld r25,Y+
 696 029a 0097      		sbiw r24,0
 697 029c 01F0      		breq .L42
 205:../../test/test.c ****       chThdTerminate(threads[i]);
 698               		.loc 1 205 0
 699 029e 0E94 0000 		call chThdTerminate
 700               	.LVL51:
 701               	.L42:
 203:../../test/test.c ****   for (i = 0; i < MAX_THREADS; i++)
 702               		.loc 1 203 0
 703 02a2 80E0      		ldi r24,hi8(threads+10)
 704 02a4 C030      		cpi r28,lo8(threads+10)
 705 02a6 D807      		cpc r29,r24
 706 02a8 01F4      		brne .L43
 707               	/* epilogue start */
 206:../../test/test.c **** }
 708               		.loc 1 206 0
 709 02aa DF91      		pop r29
 710 02ac CF91      		pop r28
 711 02ae 0895      		ret
 712               		.cfi_endproc
 713               	.LFE17:
 715               	.global	test_wait_threads
 717               	test_wait_threads:
 718               	.LFB18:
 211:../../test/test.c **** void test_wait_threads(void) {
 719               		.loc 1 211 0
 720               		.cfi_startproc
 721 02b0 CF93      		push r28
 722               	.LCFI22:
 723               		.cfi_def_cfa_offset 3
 724               		.cfi_offset 28, -2
 725 02b2 DF93      		push r29
 726               	.LCFI23:
 727               		.cfi_def_cfa_offset 4
 728               		.cfi_offset 29, -3
 729               	/* prologue: function */
 730               	/* frame size = 0 */
 731               	/* stack size = 2 */
 732               	.L__stack_usage = 2
 733               	.LVL52:
 734 02b4 C0E0      		ldi r28,lo8(threads)
 735 02b6 D0E0      		ldi r29,hi8(threads)
 736               	.LVL53:
 737               	.L50:
 215:../../test/test.c ****     if (threads[i] != NULL) {
 738               		.loc 1 215 0
 739 02b8 8881      		ld r24,Y
 740 02ba 9981      		ldd r25,Y+1
 741 02bc 0097      		sbiw r24,0
 742 02be 01F0      		breq .L49
 216:../../test/test.c ****       chThdWait(threads[i]);
 743               		.loc 1 216 0
 744 02c0 0E94 0000 		call chThdWait
 745               	.LVL54:
 217:../../test/test.c ****       threads[i] = NULL;
 746               		.loc 1 217 0
 747 02c4 1982      		std Y+1,__zero_reg__
 748 02c6 1882      		st Y,__zero_reg__
 749               	.L49:
 750 02c8 2296      		adiw r28,2
 214:../../test/test.c ****   for (i = 0; i < MAX_THREADS; i++)
 751               		.loc 1 214 0
 752 02ca 80E0      		ldi r24,hi8(threads+10)
 753 02cc C030      		cpi r28,lo8(threads+10)
 754 02ce D807      		cpc r29,r24
 755 02d0 01F4      		brne .L50
 756               	/* epilogue start */
 219:../../test/test.c **** }
 757               		.loc 1 219 0
 758 02d2 DF91      		pop r29
 759 02d4 CF91      		pop r28
 760 02d6 0895      		ret
 761               		.cfi_endproc
 762               	.LFE18:
 764               	.global	test_cpu_pulse
 766               	test_cpu_pulse:
 767               	.LFB19:
 228:../../test/test.c **** void test_cpu_pulse(unsigned duration) {
 768               		.loc 1 228 0
 769               		.cfi_startproc
 770               	.LVL55:
 771               	/* prologue: function */
 772               	/* frame size = 0 */
 773               	/* stack size = 0 */
 774               	.L__stack_usage = 0
 231:../../test/test.c ****   start = chThdSelf()->p_time;
 775               		.loc 1 231 0
 776 02d8 E091 0000 		lds r30,rlist+11
 777 02dc F091 0000 		lds r31,rlist+11+1
 778 02e0 2089      		ldd r18,Z+16
 779 02e2 3189      		ldd r19,Z+17
 780               	.LVL56:
 232:../../test/test.c ****   end = start + MS2ST(duration);
 781               		.loc 1 232 0
 782 02e4 A901      		movw r20,r18
 783 02e6 4F5F      		subi r20,-1
 784 02e8 5F4F      		sbci r21,-1
 785 02ea A0E0      		ldi r26,0
 786 02ec B0E0      		ldi r27,0
 787 02ee 0197      		sbiw r24,1
 788 02f0 A109      		sbc r26,__zero_reg__
 789 02f2 B109      		sbc r27,__zero_reg__
 790               	.LVL57:
 791 02f4 480F      		add r20,r24
 792 02f6 591F      		adc r21,r25
 793               	.LVL58:
 794               	.L67:
 234:../../test/test.c ****     now = chThdSelf()->p_time;
 795               		.loc 1 234 0
 796 02f8 8089      		ldd r24,Z+16
 797 02fa 9189      		ldd r25,Z+17
 798               	.LVL59:
 239:../../test/test.c ****   while (end > start ? (now >= start) && (now < end) :
 799               		.loc 1 239 0
 800 02fc 2417      		cp r18,r20
 801 02fe 3507      		cpc r19,r21
 802 0300 00F4      		brsh .L56
 239:../../test/test.c ****   while (end > start ? (now >= start) && (now < end) :
 803               		.loc 1 239 0 is_stmt 0 discriminator 1
 804 0302 8217      		cp r24,r18
 805 0304 9307      		cpc r25,r19
 806 0306 00F0      		brlo .L65
 807 0308 8417      		cp r24,r20
 808 030a 9507      		cpc r25,r21
 809 030c 00F0      		brlo .L67
 810 030e 0895      		ret
 811               	.L56:
 240:../../test/test.c ****                        (now >= start) || (now < end));
 812               		.loc 1 240 0 is_stmt 1
 813 0310 8217      		cp r24,r18
 814 0312 9307      		cpc r25,r19
 815 0314 00F4      		brsh .L67
 240:../../test/test.c ****                        (now >= start) || (now < end));
 816               		.loc 1 240 0 is_stmt 0 discriminator 2
 817 0316 8417      		cp r24,r20
 818 0318 9507      		cpc r25,r21
 819 031a 00F0      		brlo .L67
 820               	.L65:
 821 031c 0895      		ret
 822               		.cfi_endproc
 823               	.LFE19:
 825               	.global	test_wait_tick
 827               	test_wait_tick:
 828               	.LFB20:
 249:../../test/test.c **** systime_t test_wait_tick(void) {
 829               		.loc 1 249 0 is_stmt 1
 830               		.cfi_startproc
 831               	/* prologue: function */
 832               	/* frame size = 0 */
 833               	/* stack size = 0 */
 834               	.L__stack_usage = 0
 251:../../test/test.c ****   chThdSleep(1);
 835               		.loc 1 251 0
 836 031e 81E0      		ldi r24,lo8(1)
 837 0320 90E0      		ldi r25,0
 838 0322 0E94 0000 		call chThdSleep
 839               	.LVL60:
 252:../../test/test.c ****   return chTimeNow();
 840               		.loc 1 252 0
 841 0326 2091 0000 		lds r18,vtlist+6
 842 032a 3091 0000 		lds r19,vtlist+6+1
 253:../../test/test.c **** }
 843               		.loc 1 253 0
 844 032e C901      		movw r24,r18
 845 0330 0895      		ret
 846               		.cfi_endproc
 847               	.LFE20:
 849               	.global	test_start_timer
 851               	test_start_timer:
 852               	.LFB22:
 276:../../test/test.c **** void test_start_timer(unsigned ms) {
 853               		.loc 1 276 0
 854               		.cfi_startproc
 855               	.LVL61:
 856               	/* prologue: function */
 857               	/* frame size = 0 */
 858               	/* stack size = 0 */
 859               	.L__stack_usage = 0
 279:../../test/test.c ****   test_timer_done = FALSE;
 860               		.loc 1 279 0
 861 0332 1092 0000 		sts test_timer_done,__zero_reg__
 280:../../test/test.c ****   chVTSet(&vt, duration, tmr, NULL);
 862               		.loc 1 280 0
 863               	/* #APP */
 864               	 ;  280 "../../test/test.c" 1
 865 0336 F894      		cli
 866               	 ;  0 "" 2
 278:../../test/test.c ****   systime_t duration = MS2ST(ms);
 867               		.loc 1 278 0
 868               	/* #NOAPP */
 869 0338 A0E0      		ldi r26,0
 870 033a B0E0      		ldi r27,0
 871 033c 0197      		sbiw r24,1
 872 033e A109      		sbc r26,__zero_reg__
 873 0340 B109      		sbc r27,__zero_reg__
 874               	.LVL62:
 875 0342 BC01      		movw r22,r24
 876 0344 6F5F      		subi r22,-1
 877 0346 7F4F      		sbci r23,-1
 280:../../test/test.c ****   chVTSet(&vt, duration, tmr, NULL);
 878               		.loc 1 280 0
 879 0348 20E0      		ldi r18,0
 880 034a 30E0      		ldi r19,0
 881 034c 40E0      		ldi r20,lo8(gs(tmr))
 882 034e 50E0      		ldi r21,hi8(gs(tmr))
 883 0350 80E0      		ldi r24,lo8(vt)
 884 0352 90E0      		ldi r25,hi8(vt)
 885 0354 0E94 0000 		call chVTSetI
 886               	.LVL63:
 887               	/* #APP */
 888               	 ;  280 "../../test/test.c" 1
 889 0358 7894      		sei
 890               	 ;  0 "" 2
 891               	/* #NOAPP */
 892 035a 0895      		ret
 893               		.cfi_endproc
 894               	.LFE22:
 896               		.section	.rodata.str1.1
 897               	.LC1:
 898 0003 00        		.string	""
 899               	.LC2:
 900 0004 2A2A 2A20 		.string	"*** ChibiOS/RT test suite"
 900      4368 6962 
 900      694F 532F 
 900      5254 2074 
 900      6573 7420 
 901               	.LC3:
 902 001e 2A2A 2A00 		.string	"***"
 903               	.LC4:
 904 0022 2A2A 2A20 		.string	"*** Kernel:       "
 904      4B65 726E 
 904      656C 3A20 
 904      2020 2020 
 904      2020 00
 905               	.LC5:
 906 0035 4172 6475 		.string	"Arduino Mega"
 906      696E 6F20 
 906      4D65 6761 
 906      00
 907               	.LC6:
 908 0042 2D2D 2D20 		.string	"--- Test Case "
 908      5465 7374 
 908      2043 6173 
 908      6520 00
 909               	.LC7:
 910 0051 2900      		.string	")"
 911               	.LC8:
 912 0053 2D2D 2D20 		.string	"--- Result: FAILURE (#"
 912      5265 7375 
 912      6C74 3A20 
 912      4641 494C 
 912      5552 4520 
 913               	.LC9:
 914 006a 5D29 00   		.string	"])"
 915               	.LC10:
 916 006d 2D2D 2D20 		.string	"--- Result: SUCCESS"
 916      5265 7375 
 916      6C74 3A20 
 916      5355 4343 
 916      4553 5300 
 917               	.LC11:
 918 0081 4641 494C 		.string	"FAILURE"
 918      5552 4500 
 919               	.LC12:
 920 0089 5355 4343 		.string	"SUCCESS"
 920      4553 5300 
 921               	.LC13:
 922 0091 322E 352E 		.string	"2.5.1unstable"
 922      3175 6E73 
 922      7461 626C 
 922      6500 
 923               	.LC14:
 924 009f 2A2A 2A20 		.string	"*** Compiled:     "
 924      436F 6D70 
 924      696C 6564 
 924      3A20 2020 
 924      2020 00
 925               	.LC15:
 926 00b2 4170 7220 		.string	"Apr 29 2013 - 13:42:17"
 926      3239 2032 
 926      3031 3320 
 926      2D20 3133 
 926      3A34 323A 
 927               	.LC16:
 928 00c9 2A2A 2A20 		.string	"*** Compiler:     "
 928      436F 6D70 
 928      696C 6572 
 928      3A20 2020 
 928      2020 00
 929               	.LC17:
 930 00dc 4743 4320 		.string	"GCC 4.7.2"
 930      342E 372E 
 930      3200 
 931               	.LC18:
 932 00e6 2A2A 2A20 		.string	"*** Architecture: "
 932      4172 6368 
 932      6974 6563 
 932      7475 7265 
 932      3A20 00
 933               	.LC19:
 934 00f9 4156 5200 		.string	"AVR"
 935               	.LC20:
 936 00fd 2A2A 2A20 		.string	"*** Core Variant: "
 936      436F 7265 
 936      2056 6172 
 936      6961 6E74 
 936      3A20 00
 937               	.LC21:
 938 0110 4D65 6761 		.string	"MegaAVR"
 938      4156 5200 
 939               	.LC22:
 940 0118 2A2A 2A20 		.string	"*** Port Info:    "
 940      506F 7274 
 940      2049 6E66 
 940      6F3A 2020 
 940      2020 00
 941               	.LC23:
 942 012b 4E6F 6E65 		.string	"None"
 942      00
 943               	.LC24:
 944 0130 2A2A 2A20 		.string	"*** Platform:     "
 944      506C 6174 
 944      666F 726D 
 944      3A20 2020 
 944      2020 00
 945               	.LC25:
 946 0143 4154 6D65 		.string	"ATmega"
 946      6761 00
 947               	.LC26:
 948 014a 2A2A 2A20 		.string	"*** Test Board:   "
 948      5465 7374 
 948      2042 6F61 
 948      7264 3A20 
 948      2020 00
 949               	.LC27:
 950 015d 2028 00   		.string	" ("
 951               	.LC28:
 952 0160 205B 00   		.string	" ["
 953               	.LC29:
 954 0163 4669 6E61 		.string	"Final result: "
 954      6C20 7265 
 954      7375 6C74 
 954      3A20 00
 955               		.text
 956               	.global	TestThread
 958               	TestThread:
 959               	.LFB25:
 311:../../test/test.c **** 
 312:../../test/test.c **** /**
 313:../../test/test.c ****  * @brief   Test execution thread function.
 314:../../test/test.c ****  *
 315:../../test/test.c ****  * @param[in] p         pointer to a @p BaseChannel object for test output
 316:../../test/test.c ****  * @return              A failure boolean value.
 317:../../test/test.c ****  */
 318:../../test/test.c **** msg_t TestThread(void *p) {
 960               		.loc 1 318 0
 961               		.cfi_startproc
 962               	.LVL64:
 963 035c 4F92      		push r4
 964               	.LCFI24:
 965               		.cfi_def_cfa_offset 3
 966               		.cfi_offset 4, -2
 967 035e 5F92      		push r5
 968               	.LCFI25:
 969               		.cfi_def_cfa_offset 4
 970               		.cfi_offset 5, -3
 971 0360 6F92      		push r6
 972               	.LCFI26:
 973               		.cfi_def_cfa_offset 5
 974               		.cfi_offset 6, -4
 975 0362 7F92      		push r7
 976               	.LCFI27:
 977               		.cfi_def_cfa_offset 6
 978               		.cfi_offset 7, -5
 979 0364 8F92      		push r8
 980               	.LCFI28:
 981               		.cfi_def_cfa_offset 7
 982               		.cfi_offset 8, -6
 983 0366 9F92      		push r9
 984               	.LCFI29:
 985               		.cfi_def_cfa_offset 8
 986               		.cfi_offset 9, -7
 987 0368 AF92      		push r10
 988               	.LCFI30:
 989               		.cfi_def_cfa_offset 9
 990               		.cfi_offset 10, -8
 991 036a BF92      		push r11
 992               	.LCFI31:
 993               		.cfi_def_cfa_offset 10
 994               		.cfi_offset 11, -9
 995 036c CF92      		push r12
 996               	.LCFI32:
 997               		.cfi_def_cfa_offset 11
 998               		.cfi_offset 12, -10
 999 036e DF92      		push r13
 1000               	.LCFI33:
 1001               		.cfi_def_cfa_offset 12
 1002               		.cfi_offset 13, -11
 1003 0370 EF92      		push r14
 1004               	.LCFI34:
 1005               		.cfi_def_cfa_offset 13
 1006               		.cfi_offset 14, -12
 1007 0372 FF92      		push r15
 1008               	.LCFI35:
 1009               		.cfi_def_cfa_offset 14
 1010               		.cfi_offset 15, -13
 1011 0374 0F93      		push r16
 1012               	.LCFI36:
 1013               		.cfi_def_cfa_offset 15
 1014               		.cfi_offset 16, -14
 1015 0376 1F93      		push r17
 1016               	.LCFI37:
 1017               		.cfi_def_cfa_offset 16
 1018               		.cfi_offset 17, -15
 1019 0378 CF93      		push r28
 1020               	.LCFI38:
 1021               		.cfi_def_cfa_offset 17
 1022               		.cfi_offset 28, -16
 1023 037a DF93      		push r29
 1024               	.LCFI39:
 1025               		.cfi_def_cfa_offset 18
 1026               		.cfi_offset 29, -17
 1027               	/* prologue: function */
 1028               	/* frame size = 0 */
 1029               	/* stack size = 16 */
 1030               	.L__stack_usage = 16
 319:../../test/test.c ****   int i, j;
 320:../../test/test.c **** 
 321:../../test/test.c ****   chp = p;
 1031               		.loc 1 321 0
 1032 037c 9093 0000 		sts chp+1,r25
 1033 0380 8093 0000 		sts chp,r24
 322:../../test/test.c ****   test_println("");
 1034               		.loc 1 322 0
 1035 0384 80E0      		ldi r24,lo8(.LC1)
 1036 0386 90E0      		ldi r25,hi8(.LC1)
 1037               	.LVL65:
 1038 0388 0E94 0000 		call test_println
 1039               	.LVL66:
 323:../../test/test.c ****   test_println("*** ChibiOS/RT test suite");
 1040               		.loc 1 323 0
 1041 038c 80E0      		ldi r24,lo8(.LC2)
 1042 038e 90E0      		ldi r25,hi8(.LC2)
 1043 0390 0E94 0000 		call test_println
 1044               	.LVL67:
 324:../../test/test.c ****   test_println("***");
 1045               		.loc 1 324 0
 1046 0394 80E0      		ldi r24,lo8(.LC3)
 1047 0396 90E0      		ldi r25,hi8(.LC3)
 1048 0398 0E94 0000 		call test_println
 1049               	.LVL68:
 1050 039c C0E0      		ldi r28,lo8(.LC4+1)
 1051 039e D0E0      		ldi r29,hi8(.LC4+1)
 116:../../test/test.c ****   while (*msgp)
 1052               		.loc 1 116 0
 1053 03a0 6AE2      		ldi r22,lo8(42)
 1054               	.LVL69:
 1055               	.L71:
 1056               	.LBB106:
 1057               	.LBB107:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1058               		.loc 1 117 0
 1059 03a2 8091 0000 		lds r24,chp
 1060 03a6 9091 0000 		lds r25,chp+1
 1061 03aa DC01      		movw r26,r24
 1062 03ac ED91      		ld r30,X+
 1063 03ae FC91      		ld r31,X
 1064 03b0 0480      		ldd __tmp_reg__,Z+4
 1065 03b2 F581      		ldd r31,Z+5
 1066 03b4 E02D      		mov r30,__tmp_reg__
 1067 03b6 0995      		icall
 1068               	.LVL70:
 116:../../test/test.c ****   while (*msgp)
 1069               		.loc 1 116 0
 1070 03b8 6991      		ld r22,Y+
 1071 03ba 6111      		cpse r22,__zero_reg__
 1072 03bc 00C0      		rjmp .L71
 1073               	.LBE107:
 1074               	.LBE106:
 325:../../test/test.c ****   test_print("*** Kernel:       ");
 326:../../test/test.c ****   test_println(CH_KERNEL_VERSION);
 1075               		.loc 1 326 0
 1076 03be 80E0      		ldi r24,lo8(.LC13)
 1077 03c0 90E0      		ldi r25,hi8(.LC13)
 1078 03c2 0E94 0000 		call test_println
 1079               	.LVL71:
 1080 03c6 C0E0      		ldi r28,lo8(.LC14+1)
 1081 03c8 D0E0      		ldi r29,hi8(.LC14+1)
 116:../../test/test.c ****   while (*msgp)
 1082               		.loc 1 116 0
 1083 03ca 6AE2      		ldi r22,lo8(42)
 1084               	.LVL72:
 1085               	.L73:
 1086               	.LBB108:
 1087               	.LBB109:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1088               		.loc 1 117 0
 1089 03cc 8091 0000 		lds r24,chp
 1090 03d0 9091 0000 		lds r25,chp+1
 1091 03d4 DC01      		movw r26,r24
 1092 03d6 ED91      		ld r30,X+
 1093 03d8 FC91      		ld r31,X
 1094 03da 0480      		ldd __tmp_reg__,Z+4
 1095 03dc F581      		ldd r31,Z+5
 1096 03de E02D      		mov r30,__tmp_reg__
 1097 03e0 0995      		icall
 1098               	.LVL73:
 116:../../test/test.c ****   while (*msgp)
 1099               		.loc 1 116 0
 1100 03e2 6991      		ld r22,Y+
 1101 03e4 6111      		cpse r22,__zero_reg__
 1102 03e6 00C0      		rjmp .L73
 1103               	.LBE109:
 1104               	.LBE108:
 327:../../test/test.c ****   test_print("*** Compiled:     ");
 328:../../test/test.c ****   test_println(__DATE__ " - " __TIME__);
 1105               		.loc 1 328 0
 1106 03e8 80E0      		ldi r24,lo8(.LC15)
 1107 03ea 90E0      		ldi r25,hi8(.LC15)
 1108 03ec 0E94 0000 		call test_println
 1109               	.LVL74:
 1110 03f0 C0E0      		ldi r28,lo8(.LC16+1)
 1111 03f2 D0E0      		ldi r29,hi8(.LC16+1)
 116:../../test/test.c ****   while (*msgp)
 1112               		.loc 1 116 0
 1113 03f4 6AE2      		ldi r22,lo8(42)
 1114               	.LVL75:
 1115               	.L75:
 1116               	.LBB110:
 1117               	.LBB111:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1118               		.loc 1 117 0
 1119 03f6 8091 0000 		lds r24,chp
 1120 03fa 9091 0000 		lds r25,chp+1
 1121 03fe DC01      		movw r26,r24
 1122 0400 ED91      		ld r30,X+
 1123 0402 FC91      		ld r31,X
 1124 0404 0480      		ldd __tmp_reg__,Z+4
 1125 0406 F581      		ldd r31,Z+5
 1126 0408 E02D      		mov r30,__tmp_reg__
 1127 040a 0995      		icall
 1128               	.LVL76:
 116:../../test/test.c ****   while (*msgp)
 1129               		.loc 1 116 0
 1130 040c 6991      		ld r22,Y+
 1131 040e 6111      		cpse r22,__zero_reg__
 1132 0410 00C0      		rjmp .L75
 1133               	.LBE111:
 1134               	.LBE110:
 329:../../test/test.c **** #ifdef CH_COMPILER_NAME
 330:../../test/test.c ****   test_print("*** Compiler:     ");
 331:../../test/test.c ****   test_println(CH_COMPILER_NAME);
 1135               		.loc 1 331 0
 1136 0412 80E0      		ldi r24,lo8(.LC17)
 1137 0414 90E0      		ldi r25,hi8(.LC17)
 1138 0416 0E94 0000 		call test_println
 1139               	.LVL77:
 1140 041a C0E0      		ldi r28,lo8(.LC18+1)
 1141 041c D0E0      		ldi r29,hi8(.LC18+1)
 116:../../test/test.c ****   while (*msgp)
 1142               		.loc 1 116 0
 1143 041e 6AE2      		ldi r22,lo8(42)
 1144               	.LVL78:
 1145               	.L77:
 1146               	.LBB112:
 1147               	.LBB113:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1148               		.loc 1 117 0
 1149 0420 8091 0000 		lds r24,chp
 1150 0424 9091 0000 		lds r25,chp+1
 1151 0428 DC01      		movw r26,r24
 1152 042a ED91      		ld r30,X+
 1153 042c FC91      		ld r31,X
 1154 042e 0480      		ldd __tmp_reg__,Z+4
 1155 0430 F581      		ldd r31,Z+5
 1156 0432 E02D      		mov r30,__tmp_reg__
 1157 0434 0995      		icall
 1158               	.LVL79:
 116:../../test/test.c ****   while (*msgp)
 1159               		.loc 1 116 0
 1160 0436 6991      		ld r22,Y+
 1161 0438 6111      		cpse r22,__zero_reg__
 1162 043a 00C0      		rjmp .L77
 1163               	.LBE113:
 1164               	.LBE112:
 332:../../test/test.c **** #endif
 333:../../test/test.c ****   test_print("*** Architecture: ");
 334:../../test/test.c ****   test_println(CH_ARCHITECTURE_NAME);
 1165               		.loc 1 334 0
 1166 043c 80E0      		ldi r24,lo8(.LC19)
 1167 043e 90E0      		ldi r25,hi8(.LC19)
 1168 0440 0E94 0000 		call test_println
 1169               	.LVL80:
 1170 0444 C0E0      		ldi r28,lo8(.LC20+1)
 1171 0446 D0E0      		ldi r29,hi8(.LC20+1)
 116:../../test/test.c ****   while (*msgp)
 1172               		.loc 1 116 0
 1173 0448 6AE2      		ldi r22,lo8(42)
 1174               	.LVL81:
 1175               	.L79:
 1176               	.LBB114:
 1177               	.LBB115:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1178               		.loc 1 117 0
 1179 044a 8091 0000 		lds r24,chp
 1180 044e 9091 0000 		lds r25,chp+1
 1181 0452 DC01      		movw r26,r24
 1182 0454 ED91      		ld r30,X+
 1183 0456 FC91      		ld r31,X
 1184 0458 0480      		ldd __tmp_reg__,Z+4
 1185 045a F581      		ldd r31,Z+5
 1186 045c E02D      		mov r30,__tmp_reg__
 1187 045e 0995      		icall
 1188               	.LVL82:
 116:../../test/test.c ****   while (*msgp)
 1189               		.loc 1 116 0
 1190 0460 6991      		ld r22,Y+
 1191 0462 6111      		cpse r22,__zero_reg__
 1192 0464 00C0      		rjmp .L79
 1193               	.LBE115:
 1194               	.LBE114:
 335:../../test/test.c **** #ifdef CH_CORE_VARIANT_NAME
 336:../../test/test.c ****   test_print("*** Core Variant: ");
 337:../../test/test.c ****   test_println(CH_CORE_VARIANT_NAME);
 1195               		.loc 1 337 0
 1196 0466 80E0      		ldi r24,lo8(.LC21)
 1197 0468 90E0      		ldi r25,hi8(.LC21)
 1198 046a 0E94 0000 		call test_println
 1199               	.LVL83:
 1200 046e C0E0      		ldi r28,lo8(.LC22+1)
 1201 0470 D0E0      		ldi r29,hi8(.LC22+1)
 116:../../test/test.c ****   while (*msgp)
 1202               		.loc 1 116 0
 1203 0472 6AE2      		ldi r22,lo8(42)
 1204               	.LVL84:
 1205               	.L81:
 1206               	.LBB116:
 1207               	.LBB117:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1208               		.loc 1 117 0
 1209 0474 8091 0000 		lds r24,chp
 1210 0478 9091 0000 		lds r25,chp+1
 1211 047c DC01      		movw r26,r24
 1212 047e ED91      		ld r30,X+
 1213 0480 FC91      		ld r31,X
 1214 0482 0480      		ldd __tmp_reg__,Z+4
 1215 0484 F581      		ldd r31,Z+5
 1216 0486 E02D      		mov r30,__tmp_reg__
 1217 0488 0995      		icall
 1218               	.LVL85:
 116:../../test/test.c ****   while (*msgp)
 1219               		.loc 1 116 0
 1220 048a 6991      		ld r22,Y+
 1221 048c 6111      		cpse r22,__zero_reg__
 1222 048e 00C0      		rjmp .L81
 1223               	.LBE117:
 1224               	.LBE116:
 338:../../test/test.c **** #endif
 339:../../test/test.c **** #ifdef CH_PORT_INFO
 340:../../test/test.c ****   test_print("*** Port Info:    ");
 341:../../test/test.c ****   test_println(CH_PORT_INFO);
 1225               		.loc 1 341 0
 1226 0490 80E0      		ldi r24,lo8(.LC23)
 1227 0492 90E0      		ldi r25,hi8(.LC23)
 1228 0494 0E94 0000 		call test_println
 1229               	.LVL86:
 1230 0498 C0E0      		ldi r28,lo8(.LC24+1)
 1231 049a D0E0      		ldi r29,hi8(.LC24+1)
 116:../../test/test.c ****   while (*msgp)
 1232               		.loc 1 116 0
 1233 049c 6AE2      		ldi r22,lo8(42)
 1234               	.LVL87:
 1235               	.L83:
 1236               	.LBB118:
 1237               	.LBB119:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1238               		.loc 1 117 0
 1239 049e 8091 0000 		lds r24,chp
 1240 04a2 9091 0000 		lds r25,chp+1
 1241 04a6 DC01      		movw r26,r24
 1242 04a8 ED91      		ld r30,X+
 1243 04aa FC91      		ld r31,X
 1244 04ac 0480      		ldd __tmp_reg__,Z+4
 1245 04ae F581      		ldd r31,Z+5
 1246 04b0 E02D      		mov r30,__tmp_reg__
 1247 04b2 0995      		icall
 1248               	.LVL88:
 116:../../test/test.c ****   while (*msgp)
 1249               		.loc 1 116 0
 1250 04b4 6991      		ld r22,Y+
 1251 04b6 6111      		cpse r22,__zero_reg__
 1252 04b8 00C0      		rjmp .L83
 1253               	.LBE119:
 1254               	.LBE118:
 342:../../test/test.c **** #endif
 343:../../test/test.c **** #ifdef PLATFORM_NAME
 344:../../test/test.c ****   test_print("*** Platform:     ");
 345:../../test/test.c ****   test_println(PLATFORM_NAME);
 1255               		.loc 1 345 0
 1256 04ba 80E0      		ldi r24,lo8(.LC25)
 1257 04bc 90E0      		ldi r25,hi8(.LC25)
 1258 04be 0E94 0000 		call test_println
 1259               	.LVL89:
 1260 04c2 C0E0      		ldi r28,lo8(.LC26+1)
 1261 04c4 D0E0      		ldi r29,hi8(.LC26+1)
 116:../../test/test.c ****   while (*msgp)
 1262               		.loc 1 116 0
 1263 04c6 6AE2      		ldi r22,lo8(42)
 1264               	.LVL90:
 1265               	.L85:
 1266               	.LBB120:
 1267               	.LBB121:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1268               		.loc 1 117 0
 1269 04c8 8091 0000 		lds r24,chp
 1270 04cc 9091 0000 		lds r25,chp+1
 1271 04d0 DC01      		movw r26,r24
 1272 04d2 ED91      		ld r30,X+
 1273 04d4 FC91      		ld r31,X
 1274 04d6 0480      		ldd __tmp_reg__,Z+4
 1275 04d8 F581      		ldd r31,Z+5
 1276 04da E02D      		mov r30,__tmp_reg__
 1277 04dc 0995      		icall
 1278               	.LVL91:
 116:../../test/test.c ****   while (*msgp)
 1279               		.loc 1 116 0
 1280 04de 6991      		ld r22,Y+
 1281 04e0 6111      		cpse r22,__zero_reg__
 1282 04e2 00C0      		rjmp .L85
 1283               	.LBE121:
 1284               	.LBE120:
 346:../../test/test.c **** #endif
 347:../../test/test.c **** #ifdef BOARD_NAME
 348:../../test/test.c ****   test_print("*** Test Board:   ");
 349:../../test/test.c ****   test_println(BOARD_NAME);
 1285               		.loc 1 349 0
 1286 04e4 80E0      		ldi r24,lo8(.LC5)
 1287 04e6 90E0      		ldi r25,hi8(.LC5)
 1288 04e8 0E94 0000 		call test_println
 1289               	.LVL92:
 350:../../test/test.c **** #endif
 351:../../test/test.c ****   test_println("");
 1290               		.loc 1 351 0
 1291 04ec 80E0      		ldi r24,lo8(.LC1)
 1292 04ee 90E0      		ldi r25,hi8(.LC1)
 1293 04f0 0E94 0000 		call test_println
 1294               	.LVL93:
 352:../../test/test.c **** 
 353:../../test/test.c ****   global_fail = FALSE;
 1295               		.loc 1 353 0
 1296 04f4 1092 0000 		sts global_fail,__zero_reg__
 1297               	.LVL94:
 1298 04f8 50E0      		ldi r21,lo8(patterns+2)
 1299 04fa 452E      		mov r4,r21
 1300 04fc 50E0      		ldi r21,hi8(patterns+2)
 1301 04fe 552E      		mov r5,r21
 354:../../test/test.c ****   i = 0;
 355:../../test/test.c ****   while (patterns[i]) {
 1302               		.loc 1 355 0
 1303 0500 812C      		mov r8,__zero_reg__
 1304 0502 912C      		mov r9,__zero_reg__
 1305 0504 5401      		movw r10,r8
 1306 0506 8394      		inc r8
 1307 0508 00E0      		ldi r16,lo8(patternthd)
 1308 050a 10E0      		ldi r17,hi8(patternthd)
 1309               	.LBB122:
 1310               	.LBB123:
 1311               	.LBB124:
 1312               	.LBB125:
 136:../../test/test.c ****   tokp = tokens_buffer;
 1313               		.loc 1 136 0
 1314 050c 70E0      		ldi r23,lo8(tokens_buffer)
 1315 050e 672E      		mov r6,r23
 1316 0510 70E0      		ldi r23,hi8(tokens_buffer)
 1317 0512 772E      		mov r7,r23
 1318               	.LVL95:
 1319               	.L87:
 1320               	.LBE125:
 1321               	.LBE124:
 1322               	.LBE123:
 1323               	.LBE122:
 116:../../test/test.c ****   while (*msgp)
 1324               		.loc 1 116 0 discriminator 1
 1325 0514 C12C      		mov r12,__zero_reg__
 1326 0516 D12C      		mov r13,__zero_reg__
 1327 0518 7601      		movw r14,r12
 1328 051a C394      		inc r12
 356:../../test/test.c ****     j = 0;
 357:../../test/test.c ****     while (patterns[i][j]) {
 1329               		.loc 1 357 0 discriminator 1
 1330 051c F801      		movw r30,r16
 1331 051e 8081      		ld r24,Z
 1332 0520 9181      		ldd r25,Z+1
 1333 0522 892B      		or r24,r25
 1334 0524 01F4      		brne .+2
 1335 0526 00C0      		rjmp .L138
 1336               	.L105:
 358:../../test/test.c ****       print_line();
 1337               		.loc 1 358 0
 1338 0528 0E94 0000 		call print_line
 1339               	.LVL96:
 1340 052c C0E0      		ldi r28,lo8(.LC6+1)
 1341 052e D0E0      		ldi r29,hi8(.LC6+1)
 116:../../test/test.c ****   while (*msgp)
 1342               		.loc 1 116 0
 1343 0530 6DE2      		ldi r22,lo8(45)
 1344               	.LVL97:
 1345               	.L88:
 1346               	.LBB130:
 1347               	.LBB131:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1348               		.loc 1 117 0
 1349 0532 8091 0000 		lds r24,chp
 1350 0536 9091 0000 		lds r25,chp+1
 1351 053a DC01      		movw r26,r24
 1352 053c ED91      		ld r30,X+
 1353 053e FC91      		ld r31,X
 1354 0540 0480      		ldd __tmp_reg__,Z+4
 1355 0542 F581      		ldd r31,Z+5
 1356 0544 E02D      		mov r30,__tmp_reg__
 1357 0546 0995      		icall
 1358               	.LVL98:
 116:../../test/test.c ****   while (*msgp)
 1359               		.loc 1 116 0
 1360 0548 6991      		ld r22,Y+
 1361 054a 6111      		cpse r22,__zero_reg__
 1362 054c 00C0      		rjmp .L88
 1363               	.LBE131:
 1364               	.LBE130:
 359:../../test/test.c ****       test_print("--- Test Case ");
 360:../../test/test.c ****       test_printn(i + 1);
 1365               		.loc 1 360 0
 1366 054e C501      		movw r24,r10
 1367 0550 B401      		movw r22,r8
 1368 0552 0E94 0000 		call test_printn
 1369               	.LVL99:
 1370               	.LBB132:
 1371               	.LBB133:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1372               		.loc 1 117 0
 1373 0556 8091 0000 		lds r24,chp
 1374 055a 9091 0000 		lds r25,chp+1
 1375               	.LVL100:
 1376 055e DC01      		movw r26,r24
 1377 0560 ED91      		ld r30,X+
 1378 0562 FC91      		ld r31,X
 1379 0564 0480      		ldd __tmp_reg__,Z+4
 1380 0566 F581      		ldd r31,Z+5
 1381 0568 E02D      		mov r30,__tmp_reg__
 1382 056a 6EE2      		ldi r22,lo8(46)
 1383 056c 0995      		icall
 1384               	.LVL101:
 1385               	.LBE133:
 1386               	.LBE132:
 361:../../test/test.c ****       test_print(".");
 362:../../test/test.c ****       test_printn(j + 1);
 1387               		.loc 1 362 0
 1388 056e C701      		movw r24,r14
 1389 0570 B601      		movw r22,r12
 1390 0572 0E94 0000 		call test_printn
 1391               	.LVL102:
 1392 0576 C0E0      		ldi r28,lo8(.LC27+1)
 1393 0578 D0E0      		ldi r29,hi8(.LC27+1)
 116:../../test/test.c ****   while (*msgp)
 1394               		.loc 1 116 0
 1395 057a 60E2      		ldi r22,lo8(32)
 1396               	.LVL103:
 1397               	.L90:
 1398               	.LBB134:
 1399               	.LBB135:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1400               		.loc 1 117 0
 1401 057c 8091 0000 		lds r24,chp
 1402 0580 9091 0000 		lds r25,chp+1
 1403 0584 DC01      		movw r26,r24
 1404 0586 ED91      		ld r30,X+
 1405 0588 FC91      		ld r31,X
 1406 058a 0480      		ldd __tmp_reg__,Z+4
 1407 058c F581      		ldd r31,Z+5
 1408 058e E02D      		mov r30,__tmp_reg__
 1409 0590 0995      		icall
 1410               	.LVL104:
 116:../../test/test.c ****   while (*msgp)
 1411               		.loc 1 116 0
 1412 0592 6991      		ld r22,Y+
 1413 0594 6111      		cpse r22,__zero_reg__
 1414 0596 00C0      		rjmp .L90
 1415               	.LBE135:
 1416               	.LBE134:
 363:../../test/test.c ****       test_print(" (");
 364:../../test/test.c ****       test_print(patterns[i][j]->name);
 1417               		.loc 1 364 0
 1418 0598 D801      		movw r26,r16
 1419 059a ED91      		ld r30,X+
 1420 059c FC91      		ld r31,X
 1421 059e C081      		ld r28,Z
 1422 05a0 D181      		ldd r29,Z+1
 1423               	.LVL105:
 1424               	.LBB136:
 1425               	.LBB137:
 116:../../test/test.c ****   while (*msgp)
 1426               		.loc 1 116 0
 1427 05a2 6881      		ld r22,Y
 1428 05a4 6623      		tst r22
 1429 05a6 01F0      		breq .L95
 1430               	.LBE137:
 1431               	.LBE136:
 1432               	.LBB139:
 1433               	.LBB128:
 318:../../test/test.c **** msg_t TestThread(void *p) {
 1434               		.loc 1 318 0
 1435 05a8 2196      		adiw r28,1
 1436               	.LVL106:
 1437               	.L94:
 1438               	.LBE128:
 1439               	.LBE139:
 1440               	.LBB140:
 1441               	.LBB138:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1442               		.loc 1 117 0
 1443 05aa 8091 0000 		lds r24,chp
 1444 05ae 9091 0000 		lds r25,chp+1
 1445 05b2 DC01      		movw r26,r24
 1446 05b4 ED91      		ld r30,X+
 1447 05b6 FC91      		ld r31,X
 1448 05b8 0480      		ldd __tmp_reg__,Z+4
 1449 05ba F581      		ldd r31,Z+5
 1450 05bc E02D      		mov r30,__tmp_reg__
 1451 05be 0995      		icall
 1452               	.LVL107:
 116:../../test/test.c ****   while (*msgp)
 1453               		.loc 1 116 0
 1454 05c0 6991      		ld r22,Y+
 1455 05c2 6111      		cpse r22,__zero_reg__
 1456 05c4 00C0      		rjmp .L94
 1457               	.L95:
 1458               	.LBE138:
 1459               	.LBE140:
 365:../../test/test.c ****       test_println(")");
 1460               		.loc 1 365 0
 1461 05c6 80E0      		ldi r24,lo8(.LC7)
 1462 05c8 90E0      		ldi r25,hi8(.LC7)
 1463 05ca 0E94 0000 		call test_println
 1464               	.LVL108:
 366:../../test/test.c **** #if DELAY_BETWEEN_TESTS > 0
 367:../../test/test.c ****       chThdSleepMilliseconds(DELAY_BETWEEN_TESTS);
 1465               		.loc 1 367 0
 1466 05ce 88EC      		ldi r24,lo8(-56)
 1467 05d0 90E0      		ldi r25,0
 1468 05d2 0E94 0000 		call chThdSleep
 1469               	.LVL109:
 368:../../test/test.c **** #endif
 369:../../test/test.c ****       execute_test(patterns[i][j]);
 1470               		.loc 1 369 0
 1471 05d6 F801      		movw r30,r16
 1472 05d8 C191      		ld r28,Z+
 1473 05da D191      		ld r29,Z+
 1474 05dc 8F01      		movw r16,r30
 1475               	.LVL110:
 1476               	.LBB141:
 1477               	.LBB129:
 1478               	.LBB127:
 1479               	.LBB126:
 136:../../test/test.c ****   tokp = tokens_buffer;
 1480               		.loc 1 136 0
 1481 05de 7092 0000 		sts tokp+1,r7
 1482 05e2 6092 0000 		sts tokp,r6
 1483               	.LBE126:
 1484               	.LBE127:
 291:../../test/test.c ****   local_fail = FALSE;
 1485               		.loc 1 291 0
 1486 05e6 1092 0000 		sts local_fail,__zero_reg__
 1487               	.LVL111:
 293:../../test/test.c ****     threads[i] = NULL;
 1488               		.loc 1 293 0
 1489 05ea 1092 0000 		sts threads+1,__zero_reg__
 1490 05ee 1092 0000 		sts threads,__zero_reg__
 1491               	.LVL112:
 1492 05f2 1092 0000 		sts threads+2+1,__zero_reg__
 1493 05f6 1092 0000 		sts threads+2,__zero_reg__
 1494               	.LVL113:
 1495 05fa 1092 0000 		sts threads+4+1,__zero_reg__
 1496 05fe 1092 0000 		sts threads+4,__zero_reg__
 1497               	.LVL114:
 1498 0602 1092 0000 		sts threads+6+1,__zero_reg__
 1499 0606 1092 0000 		sts threads+6,__zero_reg__
 1500               	.LVL115:
 1501 060a 1092 0000 		sts threads+8+1,__zero_reg__
 1502 060e 1092 0000 		sts threads+8,__zero_reg__
 1503               	.LVL116:
 295:../../test/test.c ****   if (tcp->setup != NULL)
 1504               		.loc 1 295 0
 1505 0612 EA81      		ldd r30,Y+2
 1506 0614 FB81      		ldd r31,Y+3
 1507 0616 3097      		sbiw r30,0
 1508 0618 01F0      		breq .L93
 296:../../test/test.c ****     tcp->setup();
 1509               		.loc 1 296 0
 1510 061a 0995      		icall
 1511               	.LVL117:
 1512               	.L93:
 297:../../test/test.c ****   tcp->execute();
 1513               		.loc 1 297 0
 1514 061c EE81      		ldd r30,Y+6
 1515 061e FF81      		ldd r31,Y+7
 1516 0620 0995      		icall
 1517               	.LVL118:
 298:../../test/test.c ****   if (tcp->teardown != NULL)
 1518               		.loc 1 298 0
 1519 0622 EC81      		ldd r30,Y+4
 1520 0624 FD81      		ldd r31,Y+5
 1521 0626 3097      		sbiw r30,0
 1522 0628 01F0      		breq .L96
 299:../../test/test.c ****     tcp->teardown();
 1523               		.loc 1 299 0
 1524 062a 0995      		icall
 1525               	.LVL119:
 1526               	.L96:
 301:../../test/test.c ****   test_wait_threads();
 1527               		.loc 1 301 0
 1528 062c 0E94 0000 		call test_wait_threads
 1529               	.LVL120:
 1530               	.LBE129:
 1531               	.LBE141:
 370:../../test/test.c ****       if (local_fail) {
 1532               		.loc 1 370 0
 1533 0630 8091 0000 		lds r24,local_fail
 1534 0634 8823      		tst r24
 1535 0636 01F4      		brne .+2
 1536 0638 00C0      		rjmp .L97
 1537 063a C0E0      		ldi r28,lo8(.LC8+1)
 1538 063c D0E0      		ldi r29,hi8(.LC8+1)
 1539               	.LVL121:
 116:../../test/test.c ****   while (*msgp)
 1540               		.loc 1 116 0
 1541 063e 6DE2      		ldi r22,lo8(45)
 1542               	.L98:
 1543               	.LBB142:
 1544               	.LBB143:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1545               		.loc 1 117 0
 1546 0640 8091 0000 		lds r24,chp
 1547 0644 9091 0000 		lds r25,chp+1
 1548               	.LVL122:
 1549 0648 DC01      		movw r26,r24
 1550 064a ED91      		ld r30,X+
 1551 064c FC91      		ld r31,X
 1552 064e 0480      		ldd __tmp_reg__,Z+4
 1553 0650 F581      		ldd r31,Z+5
 1554 0652 E02D      		mov r30,__tmp_reg__
 1555 0654 0995      		icall
 1556               	.LVL123:
 116:../../test/test.c ****   while (*msgp)
 1557               		.loc 1 116 0
 1558 0656 6991      		ld r22,Y+
 1559 0658 6111      		cpse r22,__zero_reg__
 1560 065a 00C0      		rjmp .L98
 1561               	.LBE143:
 1562               	.LBE142:
 371:../../test/test.c ****         test_print("--- Result: FAILURE (#");
 372:../../test/test.c ****         test_printn(failpoint);
 1563               		.loc 1 372 0
 1564 065c 6091 0000 		lds r22,failpoint
 1565 0660 7091 0000 		lds r23,failpoint+1
 1566 0664 80E0      		ldi r24,0
 1567 0666 90E0      		ldi r25,0
 1568 0668 0E94 0000 		call test_printn
 1569               	.LVL124:
 1570 066c C0E0      		ldi r28,lo8(.LC28+1)
 1571 066e D0E0      		ldi r29,hi8(.LC28+1)
 116:../../test/test.c ****   while (*msgp)
 1572               		.loc 1 116 0
 1573 0670 60E2      		ldi r22,lo8(32)
 1574               	.LVL125:
 1575               	.L100:
 1576               	.LBB144:
 1577               	.LBB145:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1578               		.loc 1 117 0
 1579 0672 8091 0000 		lds r24,chp
 1580 0676 9091 0000 		lds r25,chp+1
 1581 067a DC01      		movw r26,r24
 1582 067c ED91      		ld r30,X+
 1583 067e FC91      		ld r31,X
 1584 0680 0480      		ldd __tmp_reg__,Z+4
 1585 0682 F581      		ldd r31,Z+5
 1586 0684 E02D      		mov r30,__tmp_reg__
 1587 0686 0995      		icall
 1588               	.LVL126:
 116:../../test/test.c ****   while (*msgp)
 1589               		.loc 1 116 0
 1590 0688 6991      		ld r22,Y+
 1591 068a 6111      		cpse r22,__zero_reg__
 1592 068c 00C0      		rjmp .L100
 1593               	.LVL127:
 1594               	.LBE145:
 1595               	.LBE144:
 1596               	.LBB146:
 1597               	.LBB147:
 142:../../test/test.c ****   while (cp < tokp)
 1598               		.loc 1 142 0
 1599 068e 8091 0000 		lds r24,tokp
 1600 0692 9091 0000 		lds r25,tokp+1
 1601 0696 8050      		subi r24,lo8(tokens_buffer)
 1602 0698 9040      		sbci r25,hi8(tokens_buffer)
 1603 069a 01F0      		breq .L104
 1604 069c 00F0      		brlo .L104
 1605 069e C0E0      		ldi r28,lo8(tokens_buffer)
 1606 06a0 D0E0      		ldi r29,hi8(tokens_buffer)
 1607               	.LVL128:
 1608               	.L103:
 143:../../test/test.c ****     chSequentialStreamPut(chp, *cp++);
 1609               		.loc 1 143 0
 1610 06a2 8091 0000 		lds r24,chp
 1611 06a6 9091 0000 		lds r25,chp+1
 1612 06aa 6991      		ld r22,Y+
 1613               	.LVL129:
 1614 06ac DC01      		movw r26,r24
 1615 06ae ED91      		ld r30,X+
 1616 06b0 FC91      		ld r31,X
 1617 06b2 0480      		ldd __tmp_reg__,Z+4
 1618 06b4 F581      		ldd r31,Z+5
 1619 06b6 E02D      		mov r30,__tmp_reg__
 1620 06b8 0995      		icall
 1621               	.LVL130:
 142:../../test/test.c ****   while (cp < tokp)
 1622               		.loc 1 142 0
 1623 06ba 8091 0000 		lds r24,tokp
 1624 06be 9091 0000 		lds r25,tokp+1
 1625 06c2 C817      		cp r28,r24
 1626 06c4 D907      		cpc r29,r25
 1627 06c6 00F0      		brlo .L103
 1628               	.LVL131:
 1629               	.L104:
 1630               	.LBE147:
 1631               	.LBE146:
 373:../../test/test.c ****         test_print(" [");
 374:../../test/test.c ****         print_tokens();
 375:../../test/test.c ****         test_println("])");
 1632               		.loc 1 375 0
 1633 06c8 80E0      		ldi r24,lo8(.LC9)
 1634 06ca 90E0      		ldi r25,hi8(.LC9)
 1635 06cc 0E94 0000 		call test_println
 1636               	.LVL132:
 1637               	.L102:
 1638 06d0 BFEF      		ldi r27,-1
 1639 06d2 CB1A      		sub r12,r27
 1640 06d4 DB0A      		sbc r13,r27
 1641 06d6 EB0A      		sbc r14,r27
 1642 06d8 FB0A      		sbc r15,r27
 357:../../test/test.c ****     while (patterns[i][j]) {
 1643               		.loc 1 357 0 discriminator 1
 1644 06da F801      		movw r30,r16
 1645 06dc 8081      		ld r24,Z
 1646 06de 9181      		ldd r25,Z+1
 1647 06e0 892B      		or r24,r25
 1648 06e2 01F0      		breq .+2
 1649 06e4 00C0      		rjmp .L105
 1650               	.LVL133:
 1651               	.L138:
 355:../../test/test.c ****   while (patterns[i]) {
 1652               		.loc 1 355 0
 1653 06e6 D201      		movw r26,r4
 1654 06e8 0D91      		ld r16,X+
 1655 06ea 1D91      		ld r17,X+
 1656 06ec 2D01      		movw r4,r26
 1657 06ee BFEF      		ldi r27,-1
 1658 06f0 8B1A      		sub r8,r27
 1659 06f2 9B0A      		sbc r9,r27
 1660 06f4 AB0A      		sbc r10,r27
 1661 06f6 BB0A      		sbc r11,r27
 1662 06f8 0115      		cp r16,__zero_reg__
 1663 06fa 1105      		cpc r17,__zero_reg__
 1664 06fc 01F0      		breq .+2
 1665 06fe 00C0      		rjmp .L87
 376:../../test/test.c ****       }
 377:../../test/test.c ****       else
 378:../../test/test.c ****         test_println("--- Result: SUCCESS");
 379:../../test/test.c ****       j++;
 380:../../test/test.c ****     }
 381:../../test/test.c ****     i++;
 382:../../test/test.c ****   }
 383:../../test/test.c ****   print_line();
 1666               		.loc 1 383 0
 1667 0700 0E94 0000 		call print_line
 1668               	.LVL134:
 384:../../test/test.c ****   test_println("");
 1669               		.loc 1 384 0
 1670 0704 80E0      		ldi r24,lo8(.LC1)
 1671 0706 90E0      		ldi r25,hi8(.LC1)
 1672 0708 0E94 0000 		call test_println
 1673               	.LVL135:
 1674 070c C0E0      		ldi r28,lo8(.LC29+1)
 1675 070e D0E0      		ldi r29,hi8(.LC29+1)
 116:../../test/test.c ****   while (*msgp)
 1676               		.loc 1 116 0
 1677 0710 66E4      		ldi r22,lo8(70)
 1678               	.LVL136:
 1679               	.L107:
 1680               	.LBB148:
 1681               	.LBB149:
 117:../../test/test.c ****     chSequentialStreamPut(chp, *msgp++);
 1682               		.loc 1 117 0
 1683 0712 8091 0000 		lds r24,chp
 1684 0716 9091 0000 		lds r25,chp+1
 1685 071a DC01      		movw r26,r24
 1686 071c ED91      		ld r30,X+
 1687 071e FC91      		ld r31,X
 1688 0720 0480      		ldd __tmp_reg__,Z+4
 1689 0722 F581      		ldd r31,Z+5
 1690 0724 E02D      		mov r30,__tmp_reg__
 1691 0726 0995      		icall
 1692               	.LVL137:
 116:../../test/test.c ****   while (*msgp)
 1693               		.loc 1 116 0
 1694 0728 6991      		ld r22,Y+
 1695 072a 6111      		cpse r22,__zero_reg__
 1696 072c 00C0      		rjmp .L107
 1697               	.LBE149:
 1698               	.LBE148:
 385:../../test/test.c ****   test_print("Final result: ");
 386:../../test/test.c ****   if (global_fail)
 1699               		.loc 1 386 0
 1700 072e 8091 0000 		lds r24,global_fail
 1701 0732 8111      		cpse r24,__zero_reg__
 1702 0734 00C0      		rjmp .L139
 387:../../test/test.c ****     test_println("FAILURE");
 388:../../test/test.c ****   else
 389:../../test/test.c ****     test_println("SUCCESS");
 1703               		.loc 1 389 0
 1704 0736 80E0      		ldi r24,lo8(.LC12)
 1705 0738 90E0      		ldi r25,hi8(.LC12)
 1706 073a 0E94 0000 		call test_println
 1707               	.LVL138:
 1708               	.L109:
 390:../../test/test.c **** 
 391:../../test/test.c ****   return (msg_t)global_fail;
 1709               		.loc 1 391 0
 1710 073e 8091 0000 		lds r24,global_fail
 1711 0742 282F      		mov r18,r24
 1712 0744 3327      		clr r19
 1713 0746 27FD      		sbrc r18,7
 1714 0748 3095      		com r19
 392:../../test/test.c **** }
 1715               		.loc 1 392 0
 1716 074a 932F      		mov r25,r19
 1717               	/* epilogue start */
 1718 074c DF91      		pop r29
 1719 074e CF91      		pop r28
 1720 0750 1F91      		pop r17
 1721 0752 0F91      		pop r16
 1722 0754 FF90      		pop r15
 1723 0756 EF90      		pop r14
 1724 0758 DF90      		pop r13
 1725 075a CF90      		pop r12
 1726 075c BF90      		pop r11
 1727 075e AF90      		pop r10
 1728 0760 9F90      		pop r9
 1729 0762 8F90      		pop r8
 1730 0764 7F90      		pop r7
 1731 0766 6F90      		pop r6
 1732 0768 5F90      		pop r5
 1733 076a 4F90      		pop r4
 1734 076c 0895      		ret
 1735               	.LVL139:
 1736               	.L97:
 378:../../test/test.c ****         test_println("--- Result: SUCCESS");
 1737               		.loc 1 378 0
 1738 076e 80E0      		ldi r24,lo8(.LC10)
 1739 0770 90E0      		ldi r25,hi8(.LC10)
 1740 0772 0E94 0000 		call test_println
 1741               	.LVL140:
 1742 0776 00C0      		rjmp .L102
 1743               	.LVL141:
 1744               	.L139:
 387:../../test/test.c ****     test_println("FAILURE");
 1745               		.loc 1 387 0
 1746 0778 80E0      		ldi r24,lo8(.LC11)
 1747 077a 90E0      		ldi r25,hi8(.LC11)
 1748 077c 0E94 0000 		call test_println
 1749               	.LVL142:
 1750 0780 00C0      		rjmp .L109
 1751               		.cfi_endproc
 1752               	.LFE25:
 1754               		.comm	test_timer_done,1,1
 1755               	.global	wa
 1756               		.section	.rodata
 1759               	wa:
 1760 0000 0000      		.word	test
 1761 0002 0000      		.word	test+151
 1762 0004 0000      		.word	test+302
 1763 0006 0000      		.word	test+453
 1764 0008 0000      		.word	test+604
 1765               		.comm	threads,10,1
 1766               		.comm	test,755,1
 1767               		.local	chp
 1768               		.comm	chp,2,1
 1769               		.local	tokp
 1770               		.comm	tokp,2,1
 1771               		.local	local_fail
 1772               		.comm	local_fail,1,1
 1773               		.local	global_fail
 1774               		.comm	global_fail,1,1
 1775               		.local	failpoint
 1776               		.comm	failpoint,2,1
 1777               		.local	tokens_buffer
 1778               		.comm	tokens_buffer,16,1
 1779               		.local	vt
 1780               		.comm	vt,10,1
 1783               	patterns:
 1784 000a 0000      		.word	patternthd
 1785 000c 0000      		.word	patternsem
 1786 000e 0000      		.word	patternmtx
 1787 0010 0000      		.word	patternmsg
 1788 0012 0000      		.word	patternmbox
 1789 0014 0000      		.word	patternevt
 1790 0016 0000      		.word	patternheap
 1791 0018 0000      		.word	patternpools
 1792 001a 0000      		.word	patterndyn
 1793 001c 0000      		.word	patternqueues
 1794 001e 0000      		.word	patternbmk
 1795 0020 0000      		.word	0
 1796               		.text
 1797               	.Letext0:
 1798               		.file 2 "/usr/local/cross/lib/gcc/avr/4.7.2/include/stddef.h"
 1799               		.file 3 "/usr/local/cross/lib/gcc/avr/4.7.2/../../../../avr/include/stdint.h"
 1800               		.file 4 "../../os/ports/GCC/AVR/chtypes.h"
 1801               		.file 5 "../../os/kernel/include/chlists.h"
 1802               		.file 6 "../../os/kernel/include/chthreads.h"
 1803               		.file 7 "../../os/ports/GCC/AVR/chcore.h"
 1804               		.file 8 "../../os/kernel/include/chvt.h"
 1805               		.file 9 "../../os/kernel/include/chschd.h"
 1806               		.file 10 "../../os/kernel/include/chmtx.h"
 1807               		.file 11 "../../os/kernel/include/chstreams.h"
 1808               		.file 12 "../../test/test.h"
 1809               		.file 13 "../../test/testthd.h"
 1810               		.file 14 "../../test/testsem.h"
 1811               		.file 15 "../../test/testmtx.h"
 1812               		.file 16 "../../test/testmsg.h"
 1813               		.file 17 "../../test/testmbox.h"
 1814               		.file 18 "../../test/testevt.h"
 1815               		.file 19 "../../test/testheap.h"
 1816               		.file 20 "../../test/testpools.h"
 1817               		.file 21 "../../test/testdyn.h"
 1818               		.file 22 "../../test/testqueues.h"
 1819               		.file 23 "../../test/testbmk.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 test.c
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:4      *ABS*:000000000000003f __SREG__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:6      *ABS*:0000000000000000 __tmp_reg__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:7      *ABS*:0000000000000001 __zero_reg__
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:12     .text:0000000000000000 tmr
                            *COM*:0000000000000001 test_timer_done
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:35     .text:0000000000000008 print_line
                             .bss:0000000000000000 chp
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:97     .text:000000000000004e test_printn
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:296    .text:0000000000000140 test_print
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:349    .text:0000000000000172 test_println
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:426    .text:00000000000001c0 test_emit_token
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1768   .bss:0000000000000002 tokp
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:459    .text:00000000000001d8 _test_fail
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1770   .bss:0000000000000004 local_fail
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1772   .bss:0000000000000005 global_fail
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1774   .bss:0000000000000006 failpoint
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:485    .text:00000000000001ee _test_assert
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:526    .text:000000000000020c _test_assert_sequence
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1776   .bss:0000000000000008 tokens_buffer
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:600    .text:000000000000025c _test_assert_time_window
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:672    .text:000000000000028e test_terminate_threads
                            *COM*:000000000000000a threads
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:717    .text:00000000000002b0 test_wait_threads
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:766    .text:00000000000002d8 test_cpu_pulse
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:827    .text:000000000000031e test_wait_tick
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:851    .text:0000000000000332 test_start_timer
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1778   .bss:0000000000000018 vt
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:958    .text:000000000000035c TestThread
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1783   .rodata:000000000000000a patterns
/var/folders/5n/p_75w94d66l9ssrldxqdhh700000gn/T//ccGLxCCs.s:1759   .rodata:0000000000000000 wa
                            *COM*:00000000000002f3 test
                   .rodata.str1.1:0000000000000022 .LC4
                   .rodata.str1.1:000000000000009f .LC14
                   .rodata.str1.1:00000000000000c9 .LC16
                   .rodata.str1.1:00000000000000e6 .LC18
                   .rodata.str1.1:00000000000000fd .LC20
                   .rodata.str1.1:0000000000000118 .LC22
                   .rodata.str1.1:0000000000000130 .LC24
                   .rodata.str1.1:000000000000014a .LC26
                   .rodata.str1.1:0000000000000042 .LC6
                   .rodata.str1.1:000000000000015d .LC27
                   .rodata.str1.1:0000000000000053 .LC8
                   .rodata.str1.1:0000000000000160 .LC28
                   .rodata.str1.1:0000000000000163 .LC29

UNDEFINED SYMBOLS
__udivmodsi4
chTimeIsWithin
chThdTerminate
chThdWait
rlist
chThdSleep
vtlist
chVTSetI
patternthd
patternsem
patternmtx
patternmsg
patternmbox
patternevt
patternheap
patternpools
patterndyn
patternqueues
patternbmk
__do_copy_data
__do_clear_bss
