10 CLS20 PRINT "1.CAL->JD / 2.JD->CAL";30 REM IF INKEY$<>"" THEN 3040 A$=INKEY$:IF A$=""THEN 4060 IF A$="1" THEN 10070 IF A$="2" THEN 40080 GOTO 30100 LOCATE0,0 : INPUT "YYYY.MMDDdd ";YMD110 REM JUIAN DATE120 Y=FIX(YMD)130 M=ABS(FIX(FRAC(YMD)*100))140 D=ABS(FRAC(YMD*100)*100)150 PRINT:PRINT Y;"/";M;"/";D;160 IF M<=2 THEN Y=Y-1: M=M+12170 IF Y>=0 THEN JD=FIX(365.25*Y)+FIX(30.6001*(M+1))+D+1720994.5 180 IF Y<0 THEN JD=FIX(365.25*Y-0.75)+FIX(30.6001*(M+1))+D+1720994.5190 IF YMD>=1582.1015 THEN A=FIX(Y/100):B=2-A+INT(A/4):JD=JD+B200 PRINT: PRINT JD210 GOTO 10400 REM CALENDAR DATE FROM THE JD410 CLS: INPUT"JD=";JD420 IF JD<0 THEN PRINT "NEG JD ERROR":GOTO 400425 JD=JD+0.5430 Z=FIX(JD)440 F=FRAC(JD)450 IF Z<2299161 THEN A=Z460 IF Z>=2299161 THEN ALPHA=FIX((Z-1867216.25)/36524.25):A=Z+1+ALPHA-FIX(ALPHA/4)470 B=A+1524480 C=FIX((B-122.1)/365.25)490 D=FIX(365.25*C)500 E=FIX((B-D)/30.6001)510 DOM=B-D-FIX(30.6001*E)+F520 IF E<13.5 THEN MON=E-1530 IF E>13.5 THEN MON=E-13540 IF MON>2.5THEN YER=C-4716550 IF MON<2.5THEN YER=C-4715560 PRINT YER;"/";MON;"/";DOM570 GOTO 10