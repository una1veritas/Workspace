100 'The Sweeper           (C)TORO 1994
110 CLEAR :CALL &BF000:CLS
120 ON ERROR GOTO 980
130 PRINT "The Sweeper     (C)TORO 1994
140 DIM S(&10),L(&10),X(&F),Y(&F)
150 FOR I=Z TO &10:READ S(I):NEXT
160 FOR I=Z TO &5:READ L(I):NEXT
170 FOR I=Z TO &B:READ X(I),Y(I):NEXT
180 'MENU
190 IF RESERVED &HCA B<Z GOTO 220
200 PRINT "Select device(PAD=0,MOUSE=1)
210 IF INPUT $1="1"THEN U=1 ELSE D=RESERVED &HCA E
220 PRINT "Select level(1-5)"
230 W=VAL INPUT $1:IF W<1OR W>5GOTO 230
240 W=W*6:B=INT (W*W/7)
250 CLS :RESERVED &HF8 R:RESERVED &HFF :RESERVED &HFE S:L=B:F=Z
260 LOCATE &20:PRINT "The
270 LOCATE &21:PRINT "Sweeper
280 LOCATE &20:PRINT USING "MINE:###";B
290 LOCATE &20:PRINT USING "LEFT:###";L
300 FOR Y=&1TO W:POKE Z,Y,Y,&E0:RESERVED &HFA :NEXT :POKE Z,W+1,W+1,&E2:RESERVED &HFA
310 FOR I=&1TO B
320 POKE Z,RND W,RND W,&E4
330 IF RESERVED &HCF <>&E0 GOTO 320
340 RESERVED &HDF :NEXT
350 POKE &1,W/2:RESERVED &HFC :IF U GOTO 550
360 'MAIN(PAD)
370 X=W/2:Y=W/2+1
380 POKE Z,X,Y,RESERVED &HCF ,Z:RESERVED &HDD X
390 P=RESERVED &HCB :IF P=O GOTO 390
400 O=P:J=P AND 15:M=X+X(J):N=Y+Y(J)
410 POKE Z,M,N:IF RESERVED &HCF =226 GOTO 390
420 X=M:Y=N
430 IF P AND 64GOSUB 760:GOTO 460
440 IF P AND 128GOSUB 800
450 POKE Z,31,Y:RESERVED &HFB
460 IF P AND 16 GOTO 480ELSE 380
470 'END(PAD)
480 RESERVED &HFE R:RESERVED &HF8 S
490 LOCATE 11,2:PRINT " Retry ? "
500 IF RESERVED &HCB AND &F0 GOTO 500
510 I=RESERVED &HCB :IF I AND &80 GOTO 730
520 IF I AND &40 CLS :GOTO 250
530 GOTO 510
540 'MAIN(MOUSE)
550 D=RESERVED &HCA B
560 POKE Z,&6,Z,W*6+5,&1F:D=RESERVED &HCA R
570 POKE Z,W*3,&10:D=RESERVED &HCA L
580 POKE &FB,PEEK &FB OR &1:Y=W/&2
590 X=RESERVED &HCA :N=RESERVED &HCD :P=PEEK Z
600 POKE Z,X/&6,Y+N/&8,RESERVED &HCF ,Z:RESERVED &HDD X
610 IF P AND 1IF (P AND 3)-3GOSUB 760ELSE 670
620 IF P AND 2GOSUB 800
630 IF N=Z THEN Y=Y+(Y>Z):GOSUB 740
640 IF N=&1F THEN Y=Y-(Y<W-2):GOSUB 740
650 IF RESERVED &HCB A-16GOTO 590
660 'END(MOUSE)
670 LOCATE 11,2:PRINT " Retry ? "
680 I=RESERVED &HCA :IF PEEK & AND &3 GOTO 680
690 I=RESERVED &HCA :I=PEEK &:IF I AND &2 GOTO 720
700 IF I AND &1 CLS :GOTO 250
710 'END
720 D=RESERVED &HCA E:RESERVED &HFE S:RESERVED &HF8 S
730 KEY Z,"":RESERVED &HFD :END
740 POKE &1,Y:RESERVED &HFC :RETURN
750 'TRG A
760 IF F RETURN
770 CALL &BEE00:IF PEEK Z GOSUB 920
780 POKE &1,PEEK &BF6C3:RESERVED &HFC :GOTO 840
790 'TRG B
800 IF F RETURN
810 I=RESERVED &HCF -&E0:J=L+L(I):IF J<Z RETURN
820 L=J:POKE &2,S(I):RESERVED &HDF :RESERVED &HDD X
830 LOCATE 37,3:PRINT USING "###";L
840 CALL &BEE02:IF PEEK Z RETURN
850 'GOOD!
860 LOCATE 11,Z:PRINT "**********
870 LOCATE 11:PRINT "* Good ! *
880 LOCATE 11:PRINT "**********
890 FOR J=&TO 2:FOR I=&FF TO Z STEP -20:BEEP 1,I,10:NEXT :NEXT
900 GOTO 960
910 'BOMB!
920 LOCATE 11,Z:PRINT "**********
930 LOCATE 11:PRINT "* Bomb ! *
940 LOCATE 11:PRINT "**********
950 FOR N=1TO 3:FOR M=&TO &FF STEP &10:BEEP 1,M,6:NEXT :NEXT
960 FOR F=0TO 500:NEXT
970 POKE &1,PEEK &BF6C3:RESERVED &HFC :RETURN
980 RESERVED &HF8 S:RESERVED &HFE R:ON ERROR GOTO 0:RESUME
990 DATA 225,227,226,224,229,231,230,228,232,233,234,235,236,237,238,239,240
1000 DATA -1,1,,,-1,1
1010 DATA ,,1,,-1,,,,,1,1,1,-1,1,,,,-1,1,-1,-1,-1,,
